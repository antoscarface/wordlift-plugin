"use strict";(self.webpackChunkwordlift_plugin_app=self.webpackChunkwordlift_plugin_app||[]).push([[990],{1990:(B,u,i)=>{i.r(u),i.d(u,{IngredientsModule:()=>g});var c=i(6895),f=i(5263),x=i(7579),T=i(4351),Z=i(9635),m=i(8505),M=i(5698),I=i(7779),n=i(4650),y=i(7075),z=i(9498),r=i(6666),v=i(545),A=i(5087),J=i(1354),p=i(8521),h=i(433);function b(o,e){1&o&&n.GkF(0)}function _(o,e){if(1&o){const t=n.EpF();n.TgZ(0,"div",8)(1,"nz-radio-group",9),n.NdJ("ngModelChange",function(l){n.CHM(t);const C=n.oxw();return n.KtG(C.filter=l)})("ngModelChange",function(){n.CHM(t);const l=n.oxw();return n.KtG(l.change())}),n.TgZ(2,"label",10),n._uU(3,"All"),n.qZA(),n.TgZ(4,"label",11),n._uU(5,"Matched"),n.qZA(),n.TgZ(6,"label",12),n._uU(7,"Unmatched"),n.qZA()()()}if(2&o){const t=n.oxw();n.xp6(1),n.Q6J("ngModel",t.filter)}}const U=function(){return{width:325}},w=function(){return{width:100}};function O(o,e){if(1&o&&(n.TgZ(0,"tr",14)(1,"td"),n._UZ(2,"nz-skeleton",15),n.qZA(),n.TgZ(3,"td"),n._UZ(4,"nz-skeleton",15),n.qZA()()),2&o){const t=n.oxw(2);n.xp6(2),n.Q6J("nzActive",!0)("nzLoading",t.loading)("nzParagraph",!1)("nzTitle",n.DdM(8,U)),n.xp6(2),n.Q6J("nzActive",!0)("nzLoading",t.loading)("nzParagraph",!1)("nzTitle",n.DdM(9,w))}}function Q(o,e){if(1&o&&(n.TgZ(0,"tbody"),n.YNc(1,O,5,10,"tr",13),n.qZA()),2&o){n.oxw();const t=n.MAs(8);n.xp6(1),n.Q6J("ngForOf",t.data)}}function N(o,e){if(1&o){const t=n.EpF();n.TgZ(0,"tr",14)(1,"td"),n._uU(2),n.qZA(),n.TgZ(3,"td")(4,"wlx-main-ingredient",16),n.NdJ("onMainIngredientChange",function(l){const H=n.CHM(t).$implicit,$=n.oxw(2);return n.KtG($.ingredientChange(H,l))}),n.qZA()()()}if(2&o){const t=e.$implicit;n.xp6(2),n.hij(" ",t.name," "),n.xp6(2),n.Q6J("data",t)}}function S(o,e){if(1&o&&(n.TgZ(0,"tbody"),n.YNc(1,N,5,2,"tr",13),n.qZA()),2&o){n.oxw();const t=n.MAs(8);n.xp6(1),n.Q6J("ngForOf",t.data)}}const F=function(){return[]};class d{constructor(e,t){this.liftedItems=e,this.apiService=t,this.cursor=new x.x,this.filter="ALL",this.cursor$=this.cursor.asObservable().pipe((0,T.b)(a=>this.apiService.list({taxonomy:"wprm_ingredient",cursor:a,filter:this.filter})),(0,Z.z)((0,m.b)(a=>{this.page=a}))),this.page=void 0,this.loading=!0,this.ingredients=e.find(a=>"Ingredients"===a.label)}ngOnInit(){this.apiService.list({taxonomy:"wprm_ingredient"}).pipe((0,m.b)(()=>this.loading=!1)).subscribe(e=>{this.page=e})}ingredientChange(e,t){console.log("ingredient change"),(e.match_id?this.apiService.create({term_id:e.id,body:t}):this.apiService.update({term_id:e.id,match_id:e.match_id,body:t})).pipe((0,M.q)(1)).subscribe()}change(){console.log("changed called"),console.log("emitting "+this.page?.self),this.cursor.next(this.page.self)}}d.\u0275fac=function(e){return new(e||d)(n.Y36(I.S),n.Y36(y.s))},d.\u0275cmp=n.Xpm({type:d,selectors:[["wlx-ingredients"]],decls:18,vars:13,consts:[[4,"ngIf"],["nz-typography",""],["nz-typography","","nzType","secondary"],["id","filters",4,"ngIf"],[3,"nzData","nzNoResult","nzShowPagination","nzTotal"],["basicTable",""],["nzWidth","554px"],[3,"page","cursor"],["id","filters"],[3,"ngModel","ngModelChange"],["nz-radio-button","","nzValue","ALL"],["nz-radio-button","","nzValue","MATCHED"],["nz-radio-button","","nzValue","UNMATCHED"],["class","table-row",4,"ngFor","ngForOf"],[1,"table-row"],[3,"nzActive","nzLoading","nzParagraph","nzTitle"],[3,"data","onMainIngredientChange"]],template:function(e,t){1&e&&(n.YNc(0,b,1,0,"ng-container",0),n.ALo(1,"async"),n.TgZ(2,"h1",1),n._uU(3,"Ingredients"),n.qZA(),n.TgZ(4,"p",2),n._uU(5," Some copy that explains what is on this screen and how to work with it. Maybe it\u2019s a couple of sentences for two 3 rows of text maximum\n"),n.qZA(),n.YNc(6,_,8,1,"div",3),n.TgZ(7,"nz-table",4,5)(9,"thead")(10,"tr")(11,"th",6),n._uU(12,"Ingredient Term"),n.qZA(),n.TgZ(13,"th",6),n._uU(14,"Matched Ingredient"),n.qZA()()(),n.YNc(15,Q,2,1,"tbody",0),n.YNc(16,S,2,1,"tbody",0),n.qZA(),n._UZ(17,"wlx-pagination",7)),2&e&&(n.Q6J("ngIf",n.lcZ(1,10,t.cursor$)),n.xp6(6),n.Q6J("ngIf",t.page),n.xp6(1),n.Q6J("nzData",t.page&&t.page.items?t.page.items:n.DdM(12,F))("nzNoResult",void 0)("nzShowPagination",!1)("nzTotal",t.ingredients.total),n.xp6(8),n.Q6J("ngIf",t.loading),n.xp6(1),n.Q6J("ngIf",!t.loading),n.xp6(1),n.Q6J("page",t.page)("cursor",t.cursor))},dependencies:[c.sg,c.O5,z.ZU,r.N8,r.Uo,r._C,r.Om,r.p0,r.$Z,v.ng,A.Q,J.l,p.Of,p.Bq,p.Dg,h.JJ,h.On,c.Ov],styles:["wlx-pagination[_ngcontent-%COMP%], #filters[_ngcontent-%COMP%]{width:100%}#filters[_ngcontent-%COMP%]{display:flex;margin:16px 0}nz-button-group[_ngcontent-%COMP%]{margin-left:auto}"]});const L=[{path:"",pathMatch:"full",redirectTo:"ingredients"},{path:"ingredients",data:{breadcrumb:"Ingredients"},component:d}];class s{}s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=n.oAB({type:s}),s.\u0275inj=n.cJS({imports:[f.Bz.forChild(L),f.Bz]});var P=i(7570),D=i(6616),Y=i(2271);class g{}g.\u0275fac=function(e){return new(e||g)},g.\u0275mod=n.oAB({type:g}),g.\u0275inj=n.cJS({imports:[c.ez,s,z.ZJ,r.HQ,v.H0,P.cg,D.sL,Y.m,p.aF,h.u5]})}}]);