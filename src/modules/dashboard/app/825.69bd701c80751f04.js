"use strict";(self.webpackChunkwordlift_plugin_app=self.webpackChunkwordlift_plugin_app||[]).push([[825],{6825:(B,u,i)=>{i.r(u),i.d(u,{IngredientsModule:()=>g});var d=i(6895),x=i(5263),v=i(7579),M=i(4351),I=i(9635),C=i(8505),T=i(5698),Z=i(7779),n=i(4650),y=i(7075),z=i(9498),l=i(6666),w=i(7044),J=i(5087),O=i(1354),m=i(433),f=i(8521);function A(o,e){if(1&o){const t=n.EpF();n.TgZ(0,"nz-radio-group",1),n.NdJ("ngModelChange",function(a){n.CHM(t);const h=n.oxw();return n.KtG(h.filter=a)})("ngModelChange",function(){n.CHM(t);const a=n.oxw();return n.KtG(a.filterChange.emit(a.filter))}),n.TgZ(1,"label",2),n._uU(2),n.qZA(),n.TgZ(3,"label",2),n._uU(4),n.qZA(),n.TgZ(5,"label",2),n._uU(6),n.qZA()()}if(2&o){const t=n.oxw();n.Q6J("ngModel",t.filter),n.xp6(1),n.Q6J("nzValue",void 0),n.xp6(1),n.hij("All (",t.liftedItem.total,")"),n.xp6(1),n.Q6J("nzValue",!0),n.xp6(1),n.hij("Matched (",t.liftedItem.lifted,")"),n.xp6(1),n.Q6J("nzValue",!1),n.xp6(1),n.hij("Unmatched (",t.liftedItem.total-t.liftedItem.lifted,")")}}class p{constructor(){this.filterChange=new n.vpe}}p.\u0275fac=function(e){return new(e||p)},p.\u0275cmp=n.Xpm({type:p,selectors:[["wlx-filters"]],inputs:{filter:"filter",liftedItem:"liftedItem"},outputs:{filterChange:"filterChange"},decls:1,vars:1,consts:[[3,"ngModel","ngModelChange",4,"ngIf"],[3,"ngModel","ngModelChange"],["nz-radio-button","",1,"radio",3,"nzValue"]],template:function(e,t){1&e&&n.YNc(0,A,7,7,"nz-radio-group",0),2&e&&n.Q6J("ngIf",t.liftedItem)},dependencies:[d.O5,m.JJ,m.On,f.Of,f.Bq,f.Dg],styles:["nz-radio-group[_ngcontent-%COMP%]{align-items:center}"]});var _=i(7423);function F(o,e){1&o&&n.GkF(0)}function Q(o,e){if(1&o){const t=n.EpF();n.TgZ(0,"div",9)(1,"p",10),n._uU(2),n.qZA(),n.TgZ(3,"wlx-filters",11),n.NdJ("filterChange",function(a){n.CHM(t);const h=n.oxw();return n.KtG(h.filter=a)})("filterChange",function(){n.CHM(t);const a=n.oxw();return n.KtG(a.cursor.next(a.page.self))}),n.qZA()()}if(2&o){const t=n.oxw();n.xp6(2),n.AsE("",t.ingredient.total," ",t.ingredient.label,""),n.xp6(1),n.Q6J("filter",t.filter)("liftedItem",t.ingredient)}}function U(o,e){if(1&o){const t=n.EpF();n.TgZ(0,"tr",13)(1,"td"),n._uU(2),n.qZA(),n.TgZ(3,"td",14)(4,"wlx-main-ingredient",15),n.NdJ("onMainIngredientChange",function(a){const $=n.CHM(t).$implicit,G=n.oxw(2);return n.KtG(G.ingredientChange($,a))}),n.qZA()()()}if(2&o){const t=e.$implicit;n.xp6(2),n.hij(" ",t.name," "),n.xp6(2),n.Q6J("data",t)}}function P(o,e){if(1&o&&(n.TgZ(0,"tbody"),n.YNc(1,U,5,2,"tr",12),n.qZA()),2&o){n.oxw();const t=n.MAs(8);n.xp6(1),n.Q6J("ngForOf",t.data)}}const b=function(){return[]};class c{constructor(e,t){this.liftedItems=e,this.apiService=t,this.cursor=new v.x,this.cursor$=this.cursor.asObservable().pipe((0,M.b)(r=>this.apiService.list({taxonomy:"wprm_ingredient",cursor:r,has_match:this.filter})),(0,I.z)((0,C.b)(r=>{this.page=r}))),this.page=void 0,this.loading=!0,console.log(e),this.ingredient=e.find(r=>"Ingredients"===r.label)}ngOnInit(){this.apiService.list({taxonomy:"wprm_ingredient"}).pipe((0,C.b)(()=>this.loading=!1)).subscribe(e=>{this.page=e})}ingredientChange(e,t){(e.match_id?this.apiService.create({term_id:e.id,body:t}):this.apiService.update({term_id:e.id,match_id:e.match_id,body:t})).pipe((0,T.q)(1)).subscribe()}}c.\u0275fac=function(e){return new(e||c)(n.Y36(Z.S),n.Y36(y.s))},c.\u0275cmp=n.Xpm({type:c,selectors:[["wlx-ingredients"]],decls:19,vars:12,consts:[[4,"ngIf"],["nz-typography","","id","heading"],["nz-typography","","nzType","secondary","id","description"],["id","filters",4,"ngIf"],[3,"nzData","nzNoResult","nzShowPagination","nzTotal"],["basicTable",""],["nzWidth","554px",1,"table-header"],["nz-icon","","nzType","question-circle","nzTheme","outline",1,"tooltip"],[3,"page","cursor"],["id","filters"],["id","count"],[3,"filter","liftedItem","filterChange"],["class","table-row",4,"ngFor","ngForOf"],[1,"table-row"],[1,"autocomplete-input"],[3,"data","onMainIngredientChange"]],template:function(e,t){1&e&&(n.YNc(0,F,1,0,"ng-container",0),n.ALo(1,"async"),n.TgZ(2,"h1",1),n._uU(3,"Ingredients"),n.qZA(),n.TgZ(4,"p",2),n._uU(5," Some copy that explains what is on this screen and how to work with it. Maybe it\u2019s a couple of sentences for two 3 rows of text maximum\n"),n.qZA(),n.YNc(6,Q,4,4,"div",3),n.TgZ(7,"nz-table",4,5)(9,"thead")(10,"tr")(11,"th",6),n._uU(12," Ingredient Term "),n._UZ(13,"span",7),n.qZA(),n.TgZ(14,"th",6),n._uU(15," Matched Ingredient "),n._UZ(16,"span",7),n.qZA()()(),n.YNc(17,P,2,1,"tbody",0),n.qZA(),n._UZ(18,"wlx-pagination",8)),2&e&&(n.Q6J("ngIf",n.lcZ(1,9,t.cursor$)),n.xp6(6),n.Q6J("ngIf",t.page),n.xp6(1),n.Q6J("nzData",t.page&&t.page.items?t.page.items:n.DdM(11,b))("nzNoResult",void 0)("nzShowPagination",!1)("nzTotal",t.ingredient.total),n.xp6(10),n.Q6J("ngIf",!t.loading),n.xp6(1),n.Q6J("page",t.page)("cursor",t.cursor))},dependencies:[d.sg,d.O5,z.ZU,l.N8,l.Uo,l._C,l.Om,l.p0,l.$Z,w.w,J.Q,O.l,p,_.Ls,d.Ov],styles:["wlx-pagination[_ngcontent-%COMP%], #filters[_ngcontent-%COMP%]{width:100%;flex-direction:row;display:flex;align-items:center;margin-top:18px;margin-bottom:16px}#count[_ngcontent-%COMP%]{font-weight:400;font-size:14px;line-height:19px;color:#00000073;margin:0}.tooltip[_ngcontent-%COMP%]{margin:4px 3px}.autocomplete-input[_ngcontent-%COMP%]{width:320px;height:32px;padding:0}.table-header[_ngcontent-%COMP%]{font-weight:600;font-size:14px;line-height:22px;color:#000000e0}nz-button-group[_ngcontent-%COMP%]{margin-left:auto}#heading[_ngcontent-%COMP%]{font-weight:600;font-size:20px;line-height:32px}#description[_ngcontent-%COMP%]{font-weight:400;font-size:16px;line-height:24px;color:#000000a6;width:600px}wlx-filters[_ngcontent-%COMP%]{margin-left:auto}"]});const S=[{path:"",pathMatch:"full",redirectTo:"ingredients"},{path:"ingredients",data:{breadcrumb:"Ingredients"},component:c}];class s{}s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=n.oAB({type:s}),s.\u0275inj=n.cJS({imports:[x.Bz.forChild(S),x.Bz]});var N=i(545),j=i(7570),H=i(6616),Y=i(2271);class g{}g.\u0275fac=function(e){return new(e||g)},g.\u0275mod=n.oAB({type:g}),g.\u0275inj=n.cJS({imports:[d.ez,s,z.ZJ,l.HQ,N.H0,j.cg,H.sL,Y.m,f.aF,m.u5,_.PV]})}}]);