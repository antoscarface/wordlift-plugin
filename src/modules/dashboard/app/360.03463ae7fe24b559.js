"use strict";(self.webpackChunkwordlift_plugin_app=self.webpackChunkwordlift_plugin_app||[]).push([[360],{6360:(H,d,o)=>{o.r(d),o.d(d,{RecipesModule:()=>c});var g=o(6895),f=o(5263),Z=o(7779),v=o(7579),C=o(4351),z=o(9635),h=o(8505),T=o(5698),y=o(9300),t=o(4650),R=o(240),m=o(9498),s=o(6666),u=o(545),A=o(5087),w=o(1354),M=o(1723);function J(i,e){1&i&&t.GkF(0)}function _(i,e){if(1&i){const n=t.EpF();t.TgZ(0,"wlx-filters",7),t.NdJ("filterChange",function(p){t.CHM(n);const x=t.oxw();return t.KtG(x.filter=p)})("filterChange",function(){t.CHM(n);const p=t.oxw();return t.KtG(p.cursor.next(p.page.self))}),t.qZA()}if(2&i){const n=t.oxw();t.Q6J("filter",n.filter)}}const Q=function(){return{width:325}},S=function(){return{width:100}};function b(i,e){if(1&i&&(t.TgZ(0,"tr",9)(1,"td"),t._UZ(2,"nz-skeleton",10),t.qZA(),t.TgZ(3,"td"),t._UZ(4,"nz-skeleton",10),t.qZA()()),2&i){const n=t.oxw(2);t.xp6(2),t.Q6J("nzActive",!0)("nzLoading",n.loading)("nzParagraph",!1)("nzTitle",t.DdM(8,Q)),t.xp6(2),t.Q6J("nzActive",!0)("nzLoading",n.loading)("nzParagraph",!1)("nzTitle",t.DdM(9,S))}}function I(i,e){if(1&i&&(t.TgZ(0,"tbody"),t.YNc(1,b,5,10,"tr",8),t.qZA()),2&i){t.oxw();const n=t.MAs(8);t.xp6(1),t.Q6J("ngForOf",n.data)}}function U(i,e){if(1&i){const n=t.EpF();t.TgZ(0,"tr",9)(1,"td")(2,"a",11),t._uU(3),t.qZA()(),t.TgZ(4,"td"),t._uU(5),t.qZA(),t.TgZ(6,"td")(7,"wlx-main-ingredient",12),t.NdJ("onMainIngredientChange",function(p){const P=t.CHM(n).$implicit,$=t.oxw(2);return t.KtG($.ingredientChange(P,p))}),t.qZA()()()}if(2&i){const n=e.$implicit;t.xp6(2),t.Q6J("href",n.post_permalink,t.LSH),t.xp6(1),t.Oqu(n.name),t.xp6(2),t.hij(" ",n.recipe_name," "),t.xp6(2),t.Q6J("data",n)}}function N(i,e){if(1&i&&(t.TgZ(0,"tbody"),t.YNc(1,U,8,4,"tr",8),t.qZA()),2&i){t.oxw();const n=t.MAs(8);t.xp6(1),t.Q6J("ngForOf",n.data)}}const F=function(){return[]};class l{constructor(e,n){this.liftedItems=e,this.apiService=n,this.loading=!1,this.filter="ALL",this.cursor=new v.x,this.cursor$=this.cursor.asObservable().pipe((0,y.h)(a=>null!=a),(0,C.b)(a=>this.apiService.list({post_type:"wprm_recipe",cursor:a})),(0,z.z)((0,h.b)(a=>{this.page=a}))),this.recipes=e.find(a=>"Recipes"===a.label)}ngOnInit(){this.apiService.list({post_type:"wprm_recipe"}).pipe((0,h.b)(()=>this.loading=!1)).subscribe(e=>{this.page=e})}ingredientChange(e,n){console.log("ingredient change"),(e.match_id?this.apiService.create({post_id:e.id,body:n}):this.apiService.update({post_id:e.id,match_id:e.match_id,body:n})).pipe((0,T.q)(1)).subscribe()}}l.\u0275fac=function(e){return new(e||l)(t.Y36(Z.S),t.Y36(R.s))},l.\u0275cmp=t.Xpm({type:l,selectors:[["wlx-recipes"]],decls:20,vars:12,consts:[[4,"ngIf"],["nz-typography",""],["nz-typography","","nzType","secondary"],[3,"filter","filterChange",4,"ngIf"],[3,"nzData","nzNoResult","nzShowPagination"],["basicTable",""],[3,"page","cursor"],[3,"filter","filterChange"],["class","table-row",4,"ngFor","ngForOf"],[1,"table-row"],[3,"nzActive","nzLoading","nzParagraph","nzTitle"],["target","_blank",3,"href"],[3,"data","onMainIngredientChange"]],template:function(e,n){1&e&&(t.YNc(0,J,1,0,"ng-container",0),t.ALo(1,"async"),t.TgZ(2,"h1",1),t._uU(3,"Recipes"),t.qZA(),t.TgZ(4,"p",2),t._uU(5," Some copy that explains what is on this screen and how to work with it. Maybe it\u2019s a couple of sentences for two 3 rows of text maximum\n"),t.qZA(),t.YNc(6,_,1,1,"wlx-filters",3),t.TgZ(7,"nz-table",4,5)(9,"thead")(10,"tr")(11,"th"),t._uU(12,"Post title"),t.qZA(),t.TgZ(13,"th"),t._uU(14,"Ingredient Term"),t.qZA(),t.TgZ(15,"th"),t._uU(16,"Matched Ingredient"),t.qZA()()(),t.YNc(17,I,2,1,"tbody",0),t.YNc(18,N,2,1,"tbody",0),t.qZA(),t._UZ(19,"wlx-pagination",6)),2&e&&(t.Q6J("ngIf",t.lcZ(1,9,n.cursor$)),t.xp6(6),t.Q6J("ngIf",n.page),t.xp6(1),t.Q6J("nzData",n.page&&n.page.items?n.page.items:t.DdM(11,F))("nzNoResult",void 0)("nzShowPagination",!1),t.xp6(10),t.Q6J("ngIf",n.loading),t.xp6(1),t.Q6J("ngIf",!n.loading),t.xp6(1),t.Q6J("page",n.page)("cursor",n.cursor))},dependencies:[g.sg,g.O5,m.ZU,s.N8,s.Uo,s._C,s.Om,s.p0,s.$Z,u.ng,A.Q,w.l,M.b,g.Ov],styles:["wlx-pagination[_ngcontent-%COMP%]{width:100%}"]});const O=[{path:"",pathMatch:"full",redirectTo:"recipes"},{path:"recipes",data:{breadcrumb:"Recipes"},component:l}];class r{}r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({imports:[f.Bz.forChild(O),f.Bz]});var L=o(2271),Y=o(8231);class c{}c.\u0275fac=function(e){return new(e||c)},c.\u0275mod=t.oAB({type:c}),c.\u0275inj=t.cJS({imports:[g.ez,r,m.ZJ,s.HQ,u.H0,L.m,Y.LV]})}}]);