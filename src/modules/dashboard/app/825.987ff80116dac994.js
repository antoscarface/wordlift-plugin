"use strict";(self.webpackChunkwordlift_plugin_app=self.webpackChunkwordlift_plugin_app||[]).push([[825],{6825:(K,x,i)=>{i.r(x),i.d(x,{IngredientsModule:()=>s});var p=i(6895),_=i(8176),M=i(7579),v=i(4351),T=i(9635),C=i(8505),Z=i(5698),y=i(7779),t=i(4650),w=i(7075),z=i(8800),d=i(6666),O=i(7044),J=i(5087),A=i(1354),u=i(433),m=i(8521);function F(o,e){if(1&o){const n=t.EpF();t.TgZ(0,"nz-radio-group",1),t.NdJ("ngModelChange",function(a){t.CHM(n);const g=t.oxw();return t.KtG(g.filter=a)})("ngModelChange",function(){t.CHM(n);const a=t.oxw();return t.KtG(a.filterChange.emit(a.filter))}),t.TgZ(1,"label",2),t._uU(2),t.qZA(),t.TgZ(3,"label",2),t._uU(4),t.qZA(),t.TgZ(5,"label",2),t._uU(6),t.qZA()()}if(2&o){const n=t.oxw();t.Q6J("ngModel",n.filter),t.xp6(1),t.Q6J("nzValue",void 0),t.xp6(1),t.hij("All (",n.liftedItem.total,")"),t.xp6(1),t.Q6J("nzValue",!0),t.xp6(1),t.hij("Matched (",n.liftedItem.lifted,")"),t.xp6(1),t.Q6J("nzValue",!1),t.xp6(1),t.hij("Unmatched (",n.liftedItem.total-n.liftedItem.lifted,")")}}class c{constructor(){this.filterChange=new t.vpe}}c.\u0275fac=function(e){return new(e||c)},c.\u0275cmp=t.Xpm({type:c,selectors:[["wlx-filters"]],inputs:{filter:"filter",liftedItem:"liftedItem"},outputs:{filterChange:"filterChange"},decls:1,vars:1,consts:[[3,"ngModel","ngModelChange",4,"ngIf"],[3,"ngModel","ngModelChange"],["nz-radio-button","",1,"radio",3,"nzValue"]],template:function(e,n){1&e&&t.YNc(0,F,7,7,"nz-radio-group",0),2&e&&t.Q6J("ngIf",n.liftedItem)},dependencies:[p.O5,u.JJ,u.On,m.Of,m.Bq,m.Dg],styles:["nz-radio-group[_ngcontent-%COMP%]{align-items:center}"]});var I=i(7423);function S(o,e){1&o&&t.GkF(0)}function b(o,e){if(1&o){const n=t.EpF();t.TgZ(0,"div",9)(1,"p",10),t._uU(2),t.qZA(),t.TgZ(3,"wlx-filters",11),t.NdJ("filterChange",function(a){t.CHM(n);const g=t.oxw();return t.KtG(g.filter=a)})("filterChange",function(){t.CHM(n);const a=t.oxw();return t.KtG(a.cursor.next(a.page.self))}),t.qZA()()}if(2&o){const n=t.oxw();t.xp6(2),t.AsE("",n.ingredient.total," ",n.ingredient.label,""),t.xp6(1),t.Q6J("filter",n.filter)("liftedItem",n.ingredient)}}function P(o,e){if(1&o){const n=t.EpF();t.TgZ(0,"tr",13)(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td",14)(4,"wlx-main-ingredient",15),t.NdJ("onMainIngredientChange",function(a){const h=t.CHM(n).$implicit,j=t.oxw(2);return t.KtG(j.ingredientChange(h,a))})("onStartEdit",function(){const g=t.CHM(n).$implicit,h=t.oxw(2);return t.KtG(h.startEdit(g.id))})("onStopEdit",function(){t.CHM(n);const a=t.oxw(2);return t.KtG(a.stopEdit())}),t.qZA()()()}if(2&o){const n=e.$implicit,r=t.oxw(2);t.xp6(2),t.hij(" ",n.name," "),t.xp6(2),t.Q6J("data",n)("editMode",r.editId===n.id)}}function Q(o,e){if(1&o&&(t.TgZ(0,"tbody"),t.YNc(1,P,5,3,"tr",12),t.qZA()),2&o){t.oxw();const n=t.MAs(8);t.xp6(1),t.Q6J("ngForOf",n.data)}}const U=function(){return[]};class f{constructor(e,n){this.liftedItems=e,this.apiService=n,this.cursor=new M.x,this.editId=null,this.cursor$=this.cursor.asObservable().pipe((0,v.b)(r=>this.apiService.list({taxonomy:"wprm_ingredient",cursor:r,has_match:this.filter})),(0,T.z)((0,C.b)(r=>{this.page=r}))),this.page=void 0,this.loading=!0,console.log(e),this.ingredient=e.find(r=>"Ingredients"===r.label)}ngOnInit(){this.apiService.list({taxonomy:"wprm_ingredient"}).pipe((0,C.b)(()=>this.loading=!1)).subscribe(e=>{this.page=e})}ingredientChange(e,n){(e.match_id?this.apiService.create({term_id:e.id,body:n}):this.apiService.update({term_id:e.id,match_id:e.match_id,body:n})).pipe((0,Z.q)(1)).subscribe()}startEdit(e){this.editId=e}stopEdit(){this.editId=null}}f.\u0275fac=function(e){return new(e||f)(t.Y36(y.S),t.Y36(w.s))},f.\u0275cmp=t.Xpm({type:f,selectors:[["wlx-ingredients"]],decls:19,vars:12,consts:[[4,"ngIf"],["nz-typography","","id","heading"],["nz-typography","","nzType","secondary","id","description"],["id","filters",4,"ngIf"],[3,"nzData","nzNoResult","nzShowPagination","nzTotal"],["basicTable",""],["nzWidth","554px",1,"table-header"],["nz-icon","","nzType","question-circle","nzTheme","outline",1,"tooltip"],[3,"page","cursor"],["id","filters"],["id","count"],[3,"filter","liftedItem","filterChange"],["class","table-row",4,"ngFor","ngForOf"],[1,"table-row"],[1,"autocomplete-input-column"],[1,"autocomplete-input",3,"data","editMode","onMainIngredientChange","onStartEdit","onStopEdit"]],template:function(e,n){1&e&&(t.YNc(0,S,1,0,"ng-container",0),t.ALo(1,"async"),t.TgZ(2,"h1",1),t._uU(3,"Ingredients"),t.qZA(),t.TgZ(4,"p",2),t._uU(5," Some copy that explains what is on this screen and how to work with it. Maybe it\u2019s a couple of sentences for two 3 rows of text maximum\n"),t.qZA(),t.YNc(6,b,4,4,"div",3),t.TgZ(7,"nz-table",4,5)(9,"thead")(10,"tr")(11,"th",6),t._uU(12," Ingredient Term "),t._UZ(13,"span",7),t.qZA(),t.TgZ(14,"th",6),t._uU(15," Matched Ingredient "),t._UZ(16,"span",7),t.qZA()()(),t.YNc(17,Q,2,1,"tbody",0),t.qZA(),t._UZ(18,"wlx-pagination",8)),2&e&&(t.Q6J("ngIf",t.lcZ(1,9,n.cursor$)),t.xp6(6),t.Q6J("ngIf",n.page),t.xp6(1),t.Q6J("nzData",n.page&&n.page.items?n.page.items:t.DdM(11,U))("nzNoResult",void 0)("nzShowPagination",!1)("nzTotal",n.ingredient.total),t.xp6(10),t.Q6J("ngIf",!n.loading),t.xp6(1),t.Q6J("page",n.page)("cursor",n.cursor))},dependencies:[p.sg,p.O5,z.ZU,d.N8,d.Uo,d._C,d.Om,d.p0,d.$Z,O.w,J.Q,A.l,c,I.Ls,p.Ov],styles:["wlx-pagination[_ngcontent-%COMP%], #filters[_ngcontent-%COMP%]{width:100%;flex-direction:row;display:flex;align-items:center;margin-top:18px;margin-bottom:16px}#count[_ngcontent-%COMP%]{font-weight:400;font-size:14px;line-height:19px;color:#00000073;margin:0}.tooltip[_ngcontent-%COMP%]{margin:4px 3px}.autocomplete-input[_ngcontent-%COMP%]{width:320px;height:32px;display:block}.autocomplete-input-column[_ngcontent-%COMP%]{padding:16px}.table-header[_ngcontent-%COMP%]{font-weight:600;font-size:14px;line-height:22px;color:#000000e0}nz-button-group[_ngcontent-%COMP%]{margin-left:auto}#heading[_ngcontent-%COMP%]{font-weight:600;font-size:20px;line-height:32px}#description[_ngcontent-%COMP%]{font-weight:400;font-size:16px;line-height:24px;color:#000000a6;width:600px}wlx-filters[_ngcontent-%COMP%]{margin-left:auto}"]});const E=[{path:"",pathMatch:"full",redirectTo:"ingredients"},{path:"ingredients",data:{breadcrumb:"Ingredients"},component:f}];class l{}l.\u0275fac=function(e){return new(e||l)},l.\u0275mod=t.oAB({type:l}),l.\u0275inj=t.cJS({imports:[_.Bz.forChild(E),_.Bz]});var N=i(545),H=i(7570),G=i(6616),$=i(2271);class s{}s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=t.oAB({type:s}),s.\u0275inj=t.cJS({imports:[p.ez,l,z.ZJ,d.HQ,N.H0,H.cg,G.sL,$.m,m.aF,u.u5,I.PV]})}}]);