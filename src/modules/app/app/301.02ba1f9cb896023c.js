"use strict";(self.webpackChunkwordlift_plugin_app=self.webpackChunkwordlift_plugin_app||[]).push([[301],{7301:(X,f,e)=>{e.r(f),e.d(f,{TermsModule:()=>c});var m=e(6895),C=e(8176),b=e(7579),z=e(8505),Z=e(4351),P=e(9635),w=e(5698),O=e(6150),t=e(4650),S=e(7548),T=e(8800),s=e(13),A=e(5087),J=e(1354),F=e(1723),x=e(5635),v=e(7423),N=e(5505),M=e(7570),h=e(433),_=e(9562),y=e(6616),Q=e(7044),I=e(1664);function E(a,o){1&a&&t.GkF(0)}function U(a,o){if(1&a){const n=t.EpF();t.TgZ(0,"div",20)(1,"p",21),t._uU(2),t.qZA(),t.TgZ(3,"wlx-filters",22),t.NdJ("filterChange",function(r){t.CHM(n);const p=t.oxw();return t.KtG(p.filter=r)})("filterChange",function(){t.CHM(n);const r=t.oxw();return t.KtG(r.cursor.next(""))}),t.qZA()()}if(2&a){const n=t.oxw();t.xp6(2),t.AsE("",n.stats.total," ",n.stats.label,""),t.xp6(1),t.Q6J("filter",n.filter)("stats",n.stats)}}function D(a,o){if(1&a){const n=t.EpF();t.TgZ(0,"tr",24)(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td",25)(4,"wlx-main-ingredient",26),t.NdJ("onMainIngredientChange",function(r){const l=t.CHM(n).$implicit,u=t.oxw(2);return t.KtG(u.ingredientChange(l,r))})("onStartEdit",function(){const p=t.CHM(n).$implicit,l=t.oxw(2);return t.KtG(l.startEdit(p.id))})("onStopEdit",function(){t.CHM(n);const r=t.oxw(2);return t.KtG(r.stopEdit())}),t.qZA()(),t.TgZ(5,"td"),t._uU(6),t.qZA()()}if(2&a){const n=o.$implicit,i=o.index,r=t.oxw(2);t.xp6(2),t.hij(" ",n.name," "),t.xp6(2),t.Q6J("wlxCyId","AutoCompleteField"+i)("data",n)("editMode",r.editId===n.id),t.xp6(2),t.hij(" ",n.occurrences," ")}}function R(a,o){if(1&a&&(t.TgZ(0,"tbody"),t.YNc(1,D,7,5,"tr",23),t.qZA()),2&a){t.oxw();const n=t.MAs(8);t.xp6(1),t.Q6J("ngForOf",n.data)}}const $=function(){return[]};class g{constructor(o,n){this.appSettings=o,this.termMatchesService=n,this.cursor=new b.x,this.editId=null,this.perPage={value:10},this.cursor$=this.cursor.asObservable().pipe((0,z.b)(()=>{this.loading=!0}),(0,Z.b)(i=>this.termMatchesService.listTermMatches({cursor:i,taxonomies:"category",has_match:this.filter,limit:this.perPage.value,sort:this.sort,term_contains:this.termContains.length>0?this.termContains:void 0})),(0,P.z)((0,z.b)(i=>{this.page=i,this.loading=!1}))),this.visible=!1,this.termContains="",this.loading=!0,this.Number=Number,this.stats=o.stats.find(i=>"Terms"===i.label)}ngOnInit(){}reload(){this.loading=!0,this.termMatchesService.listTermMatches({taxonomies:"category",has_match:this.filter,limit:this.perPage.value,sort:this.sort}).subscribe(o=>{this.page=o,this.loading=!1})}ingredientChange(o,n){(Number.isInteger(o.match_id)?this.termMatchesService.updateTermMatch({term_id:o.id,match_id:o.match_id,body:n}):this.termMatchesService.createTermMatch({term_id:o.id,body:n})).pipe((0,w.q)(1)).subscribe()}startEdit(o){this.editId=o}stopEdit(){this.editId=null}search(){this.cursor.next("")}reset(){this.termContains="",this.cursor.next("")}onQueryParamsChange(o){const{sort:r}=o,l=r.find(W=>null!==W.value),u=l&&l.key||null;u&&(this.sort=("descend"===(l&&l.value||null)?"-":"+")+u),this.reload()}}g.\u0275fac=function(o){return new(o||g)(t.Y36(O.N),t.Y36(S.a0))},g.\u0275cmp=t.Xpm({type:g,selectors:[["wlx-terms"]],decls:32,vars:21,consts:[[4,"ngIf"],["nz-typography","","id","heading"],["nz-typography","","nzType","secondary","id","description"],["id","filters",4,"ngIf"],[3,"nzData","nzNoResult","nzShowPagination","nzFrontPagination","nzTotal","nzLoading","nzQueryParams"],["basicTable",""],["nzWidth","464px","nzCustomFilter","","nzColumnKey","term_name",1,"table-header",3,"nzSortFn"],[3,"nzVisible","nzActive","nzDropdownMenu","nzVisibleChange"],["nz-icon","","nzType","search"],["nzWidth","464px","nzColumnKey","entity_name",1,"table-header",3,"nzSortFn"],["nz-icon","","nzType","question-circle","nzTheme","outline","nz-tooltip","","nzTooltipTitle","The entity matching the taxonomy term.",1,"tooltip"],["nzWidth","180px",1,"table-header"],["nz-icon","","nzType","question-circle","nzTheme","outline","nz-tooltip","","nzTooltipTitle","Occurrences.",1,"tooltip"],["menu","nzDropdownMenu"],[1,"ant-table-filter-dropdown"],[1,"search-box"],["type","text","nz-input","","placeholder","Search name",3,"ngModel","ngModelChange"],["nz-button","","nzSize","small","nzType","primary",1,"search-button",3,"click"],["nz-button","","nzSize","small",3,"click"],["wlxCy","","wlxCyId","TermsPagination",3,"page","cursor","perPage"],["id","filters"],["id","count"],["wlxCy","","wlxCyId","TermsFilters",3,"filter","stats","filterChange"],["class","editable-row",4,"ngFor","ngForOf"],[1,"editable-row"],[1,"autocomplete-input-column"],["wlxCy","","datasetUri","https://knowledge.cafemedia.com/gardening/",1,"autocomplete-input","editable-cell",3,"wlxCyId","data","editMode","onMainIngredientChange","onStartEdit","onStopEdit"]],template:function(o,n){if(1&o&&(t.YNc(0,E,1,0,"ng-container",0),t.ALo(1,"async"),t.TgZ(2,"h1",1),t._uU(3,"Terms"),t.qZA(),t.TgZ(4,"p",2),t._uU(5,' This is the list of Terms. For each Term, WordLift matched the entity which will show in the Structured Data "mentions" property To assign a new entity, click on the name (or on the dash) and start typing to select it from the list. Then click anywhere to accept the change.\n'),t.qZA(),t.YNc(6,U,4,4,"div",3),t.TgZ(7,"nz-table",4,5),t.NdJ("nzQueryParams",function(r){return n.onQueryParamsChange(r)}),t.TgZ(9,"thead")(10,"tr")(11,"th",6),t._uU(12," Term "),t.TgZ(13,"nz-filter-trigger",7),t.NdJ("nzVisibleChange",function(r){return n.visible=r}),t._UZ(14,"span",8),t.qZA()(),t.TgZ(15,"th",9),t._uU(16," Matched Entity "),t._UZ(17,"span",10),t.qZA(),t.TgZ(18,"th",11),t._uU(19," Occurrences "),t._UZ(20,"span",12),t.qZA()()(),t.YNc(21,R,2,1,"tbody",0),t.qZA(),t.TgZ(22,"nz-dropdown-menu",null,13)(24,"div",14)(25,"div",15)(26,"input",16),t.NdJ("ngModelChange",function(r){return n.termContains=r}),t.qZA(),t.TgZ(27,"button",17),t.NdJ("click",function(){return n.search()}),t._uU(28," Search "),t.qZA(),t.TgZ(29,"button",18),t.NdJ("click",function(){return n.reset()}),t._uU(30,"Reset"),t.qZA()()()(),t._UZ(31,"wlx-pagination",19)),2&o){const i=t.MAs(23);t.Q6J("ngIf",t.lcZ(1,18,n.cursor$)),t.xp6(6),t.Q6J("ngIf",n.page),t.xp6(1),t.Q6J("nzData",n.page&&n.page.items?n.page.items:t.DdM(20,$))("nzNoResult",void 0)("nzShowPagination",!1)("nzFrontPagination",!1)("nzTotal",n.Number.MAX_SAFE_INTEGER)("nzLoading",n.loading),t.xp6(4),t.Q6J("nzSortFn",!0),t.xp6(2),t.Q6J("nzVisible",n.visible)("nzActive",n.termContains.length>0)("nzDropdownMenu",i),t.xp6(2),t.Q6J("nzSortFn",!0),t.xp6(6),t.Q6J("ngIf",!n.loading),t.xp6(5),t.Q6J("ngModel",n.termContains),t.xp6(5),t.Q6J("page",n.page)("cursor",n.cursor)("perPage",n.perPage)}},dependencies:[m.sg,m.O5,T.ZU,s.N8,s.qD,s.Uo,s._C,s.Om,s.p0,s.$Z,s.Ql,A.Q,J.l,F.b,x.Zp,v.Ls,N.N,M.SY,h.Fj,h.JJ,h.On,_.RR,y.ix,Q.w,I.dQ,m.Ov],styles:["wlx-pagination[_ngcontent-%COMP%], #filters[_ngcontent-%COMP%]{width:100%;flex-direction:row;display:flex;align-items:center;margin-top:18px;margin-bottom:16px}#count[_ngcontent-%COMP%]{font-weight:400;font-size:14px;line-height:19px;color:#00000073;margin:0}.table-header[_ngcontent-%COMP%]{font-weight:600;font-size:14px;line-height:22px;color:#000000e0}.tooltip[_ngcontent-%COMP%]{cursor:pointer;margin:4px 3px;color:#00000073}.autocomplete-input[_ngcontent-%COMP%]{width:320px;height:32px;display:block}.autocomplete-input-column[_ngcontent-%COMP%]{padding:16px}nz-button-group[_ngcontent-%COMP%]{margin-left:auto}#heading[_ngcontent-%COMP%]{font-weight:600;font-size:20px;line-height:32px}#description[_ngcontent-%COMP%]{text-align:justify;font-weight:400;font-size:16px;line-height:24px;color:#000000a6;width:600px}wlx-filters[_ngcontent-%COMP%]{margin-left:auto}.editable-cell[_ngcontent-%COMP%]{position:relative;cursor:pointer}.editable-row[_ngcontent-%COMP%]:hover   .editable-cell[_ngcontent-%COMP%]{border:1px solid #d9d9d9;border-radius:4px}.editable-cell[_ngcontent-%COMP%]:focus-within{border:none}.search-box[_ngcontent-%COMP%]{padding:8px}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:188px;margin-bottom:8px;display:block}.search-box[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:90px}.search-button[_ngcontent-%COMP%]{margin-right:8px}.ant-btn-sm[_ngcontent-%COMP%]{height:30px}"]});const j=[{path:"",pathMatch:"full",redirectTo:"terms"},{path:"terms",data:{breadcrumb:"Terms"},component:g}];class d{}d.\u0275fac=function(o){return new(o||d)},d.\u0275mod=t.oAB({type:d}),d.\u0275inj=t.cJS({imports:[C.Bz.forChild(j),C.Bz]});var G=e(545),H=e(2271),K=e(8231),L=e(4586),V=e(2383),Y=e(5540);class c{}c.\u0275fac=function(o){return new(o||c)},c.\u0275mod=t.oAB({type:c}),c.\u0275inj=t.cJS({imports:[m.ez,d,T.ZJ,s.HQ,G.H0,H.m,K.LV,x.o7,L.D,V.ic,v.PV,Y.o,M.cg,h.u5,_.b1,y.sL]})}}]);