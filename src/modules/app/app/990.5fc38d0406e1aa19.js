"use strict";(self.webpackChunkwordlift_plugin_app=self.webpackChunkwordlift_plugin_app||[]).push([[990],{1990:(W,h,i)=>{i.r(h),i.d(h,{IngredientsModule:()=>Y});var g=i(6895),m=i(8176),T=i(7579),u=i(8505),y=i(4351),I=i(9635),b=i(5698),Z=i(6150),n=i(4650),P=i(7548),f=i(8800),l=i(13),C=i(7570),z=i(6616),w=i(7044),O=i(1664),S=i(5087),A=i(1354),J=i(1723),c=i(433),x=i(7423),F=i(5505),_=i(9562),M=i(5635);function N(o,a){1&o&&n.GkF(0)}function Q(o,a){if(1&o){const t=n.EpF();n.TgZ(0,"div",21)(1,"p",22),n._uU(2),n.qZA(),n.TgZ(3,"wlx-filters",23),n.NdJ("filterChange",function(r){n.CHM(t);const s=n.oxw();return n.KtG(s.filter=r)})("filterChange",function(){n.CHM(t);const r=n.oxw();return n.KtG(r.cursor.next(""))}),n.qZA()()}if(2&o){const t=n.oxw();n.xp6(2),n.AsE("",t.ingredient.total," ",t.ingredient.label,""),n.xp6(1),n.Q6J("filter",t.filter)("stats",t.ingredient)}}function U(o,a){if(1&o){const t=n.EpF();n.TgZ(0,"tr",25)(1,"td"),n._uU(2),n.qZA(),n.TgZ(3,"td",26)(4,"wlx-main-ingredient",27),n.NdJ("onMainIngredientChange",function(r){const p=n.CHM(t).$implicit,d=n.oxw(2);return n.KtG(d.ingredientChange(p,r))})("onStartEdit",function(){const s=n.CHM(t).$implicit,p=n.oxw(2);return n.KtG(p.startEdit(s.id))})("onStopEdit",function(){n.CHM(t);const r=n.oxw(2);return n.KtG(r.stopEdit())}),n.qZA()(),n.TgZ(5,"td"),n._uU(6),n.qZA()()}if(2&o){const t=a.$implicit,e=a.index,r=n.oxw(2);n.xp6(2),n.hij(" ",t.name," "),n.xp6(2),n.Q6J("data",t)("wlxCyId","AutoCompleteField"+e)("editMode",r.editId===t.id),n.xp6(2),n.hij(" ",t.occurrences," ")}}function E(o,a){if(1&o&&(n.TgZ(0,"tbody"),n.YNc(1,U,7,5,"tr",24),n.qZA()),2&o){n.oxw();const t=n.MAs(8);n.xp6(1),n.Q6J("ngForOf",t.data)}}const R=function(){return[]},D=[{path:"",pathMatch:"full",redirectTo:"ingredients"},{path:"ingredients",data:{breadcrumb:"Ingredients"},component:(()=>{class o{constructor(t,e){this.appSettings=t,this.termMatchesService=e,this.cursor=new T.x,this.editId=null,this.perPage={value:10},this.termContains="",this.visible=!1,this.cursor$=this.cursor.asObservable().pipe((0,u.b)(()=>{this.loading=!0}),(0,y.b)(r=>this.termMatchesService.listTermMatches({taxonomies:"wprm_ingredient",cursor:r,has_match:this.filter,limit:this.perPage.value,sort:this.sort})),(0,I.z)((0,u.b)(r=>{this.page=r,this.loading=!1}))),this.loading=!0,this.Number=Number,this.ingredient=t.stats.find(r=>"Ingredients"===r.label)}ngOnInit(){this.reload()}reload(){this.loading=!0,this.termMatchesService.listTermMatches({taxonomies:"wprm_ingredient",has_match:this.filter,limit:this.perPage.value,sort:this.sort,term_contains:this.termContains.length>0?this.termContains:void 0}).subscribe(t=>{this.page=t,this.loading=!1})}ingredientChange(t,e){(Number.isInteger(t.match_id)?this.termMatchesService.updateTermMatch({term_id:t.id,match_id:t.match_id,body:e}):this.termMatchesService.createTermMatch({term_id:t.id,body:e})).pipe((0,b.q)(1)).subscribe()}startEdit(t){this.editId=t}stopEdit(){this.editId=null}search(){this.cursor.next("")}reset(){this.termContains="",this.cursor.next("")}onQueryParamsChange(t){const{sort:s}=t,d=s.find(V=>null!==V.value),v=d&&d.key||null;v&&(this.sort=("descend"===(d&&d.value||null)?"-":"+")+v),this.reload()}}return o.\u0275fac=function(t){return new(t||o)(n.Y36(Z.N),n.Y36(P.a0))},o.\u0275cmp=n.Xpm({type:o,selectors:[["wlx-ingredients"]],decls:33,vars:21,consts:[[4,"ngIf"],["nz-typography","","id","heading"],["nz-typography","","nzType","secondary","id","description"],["id","filters",4,"ngIf"],[3,"nzData","nzNoResult","nzShowPagination","nzFrontPagination","nzTotal","nzLoading","nzQueryParams"],["basicTable",""],["nzWidth","464px","nzCustomFilter","","nzColumnKey","term_name",1,"table-header",3,"nzSortFn"],[3,"nzVisible","nzActive","nzDropdownMenu","nzVisibleChange"],["nz-icon","","nzType","search"],["nz-icon","","nzType","question-circle","nzTheme","outline","nz-tooltip","","nzTooltipTitle","The ingredient from the WPRM plugin ingredients taxonomy",1,"tooltip"],["nzWidth","464px","nzColumnKey","entity_name",1,"table-header",3,"nzSortFn"],["nz-icon","","nzType","question-circle","nzTheme","outline","nz-tooltip","","nzTooltipTitle","The ingredient entity matching the WPRM plugin ingredient.",1,"tooltip"],["nzWidth","180px",1,"table-header"],["nz-icon","","nzType","question-circle","nzTheme","outline","nz-tooltip","","nzTooltipTitle","Occurrences.",1,"tooltip"],["menu","nzDropdownMenu"],[1,"ant-table-filter-dropdown"],[1,"search-box"],["type","text","nz-input","","placeholder","Search name",3,"ngModel","ngModelChange"],["nz-button","","nzSize","small","nzType","primary",1,"search-button",3,"click"],["nz-button","","nzSize","small",3,"click"],["wlxCy","","wlxCyId","IngredientsPagination",3,"page","cursor","perPage"],["id","filters"],["id","count"],["wlxCy","","wlxCyId","IngredientsFilters",3,"filter","stats","filterChange"],["class","editable-row",4,"ngFor","ngForOf"],[1,"editable-row"],[1,"autocomplete-input-column"],["wlxCy","","datasetUri","https://knowledge.cafemedia.com/food/",1,"autocomplete-input","editable-cell",3,"data","wlxCyId","editMode","onMainIngredientChange","onStartEdit","onStopEdit"]],template:function(t,e){if(1&t&&(n.YNc(0,N,1,0,"ng-container",0),n.ALo(1,"async"),n.TgZ(2,"h1",1),n._uU(3,"Ingredients"),n.qZA(),n.TgZ(4,"p",2),n._uU(5,' This is the list of Ingredients. For each Ingredient, WordLift matched the ingredient entity which will show in the Structured Data "mentions" property To assign a new ingredient, click on the name (or on the dash) and start typing to select it from the list. Then click anywhere to accept the change.\n'),n.qZA(),n.YNc(6,Q,4,4,"div",3),n.TgZ(7,"nz-table",4,5),n.NdJ("nzQueryParams",function(s){return e.onQueryParamsChange(s)}),n.TgZ(9,"thead")(10,"tr")(11,"th",6),n._uU(12," Ingredient Term "),n.TgZ(13,"nz-filter-trigger",7),n.NdJ("nzVisibleChange",function(s){return e.visible=s}),n._UZ(14,"span",8),n.qZA(),n._UZ(15,"span",9),n.qZA(),n.TgZ(16,"th",10),n._uU(17," Matched Ingredient "),n._UZ(18,"span",11),n.qZA(),n.TgZ(19,"th",12),n._uU(20," Occurrences "),n._UZ(21,"span",13),n.qZA()()(),n.YNc(22,E,2,1,"tbody",0),n.qZA(),n.TgZ(23,"nz-dropdown-menu",null,14)(25,"div",15)(26,"div",16)(27,"input",17),n.NdJ("ngModelChange",function(s){return e.termContains=s}),n.qZA(),n.TgZ(28,"button",18),n.NdJ("click",function(){return e.reload()}),n._uU(29," Search "),n.qZA(),n.TgZ(30,"button",19),n.NdJ("click",function(){return e.reset()}),n._uU(31,"Reset"),n.qZA()()()(),n._UZ(32,"wlx-pagination",20)),2&t){const r=n.MAs(24);n.Q6J("ngIf",n.lcZ(1,18,e.cursor$)),n.xp6(6),n.Q6J("ngIf",e.page),n.xp6(1),n.Q6J("nzData",e.page&&e.page.items?e.page.items:n.DdM(20,R))("nzNoResult",void 0)("nzShowPagination",!1)("nzFrontPagination",!1)("nzTotal",e.Number.MAX_SAFE_INTEGER)("nzLoading",e.loading),n.xp6(4),n.Q6J("nzSortFn",!0),n.xp6(2),n.Q6J("nzVisible",e.visible)("nzActive",e.termContains.length>0)("nzDropdownMenu",r),n.xp6(3),n.Q6J("nzSortFn",!0),n.xp6(6),n.Q6J("ngIf",!e.loading),n.xp6(5),n.Q6J("ngModel",e.termContains),n.xp6(5),n.Q6J("page",e.page)("cursor",e.cursor)("perPage",e.perPage)}},dependencies:[g.sg,g.O5,f.ZU,l.N8,l.qD,l.Uo,l._C,l.Om,l.p0,l.$Z,l.Ql,C.SY,z.ix,w.w,O.dQ,S.Q,A.l,J.b,c.Fj,c.JJ,c.On,x.Ls,F.N,_.RR,M.Zp,g.Ov],styles:["wlx-pagination[_ngcontent-%COMP%], #filters[_ngcontent-%COMP%]{width:100%;flex-direction:row;display:flex;align-items:center;margin-top:18px;margin-bottom:16px}#count[_ngcontent-%COMP%]{font-weight:400;font-size:14px;line-height:19px;color:#00000073;margin:0}.table-header[_ngcontent-%COMP%]{font-weight:600;font-size:14px;line-height:22px;color:#000000e0}.tooltip[_ngcontent-%COMP%]{cursor:pointer;margin:4px 3px;color:#00000073}.autocomplete-input[_ngcontent-%COMP%]{width:320px;height:32px;display:block}.autocomplete-input-column[_ngcontent-%COMP%]{padding:16px}nz-button-group[_ngcontent-%COMP%]{margin-left:auto}#heading[_ngcontent-%COMP%]{font-weight:600;font-size:20px;line-height:32px}#description[_ngcontent-%COMP%]{text-align:justify;font-weight:400;font-size:16px;line-height:24px;color:#000000a6;width:600px}wlx-filters[_ngcontent-%COMP%]{margin-left:auto}.editable-cell[_ngcontent-%COMP%]{position:relative;cursor:pointer}.editable-row[_ngcontent-%COMP%]:hover   .editable-cell[_ngcontent-%COMP%]{border:1px solid #d9d9d9;border-radius:4px}.editable-cell[_ngcontent-%COMP%]:focus-within{border:none}.search-box[_ngcontent-%COMP%]{padding:8px}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:188px;margin-bottom:8px;display:block}.search-box[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:90px}.search-button[_ngcontent-%COMP%]{margin-right:8px}.ant-btn-sm[_ngcontent-%COMP%]{height:30px}"]}),o})()}];let $=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=n.oAB({type:o}),o.\u0275inj=n.cJS({imports:[m.Bz.forChild(D),m.Bz]}),o})();var j=i(545),G=i(2271),H=i(8521),K=i(5540);let Y=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=n.oAB({type:o}),o.\u0275inj=n.cJS({imports:[g.ez,$,f.ZJ,l.HQ,j.H0,C.cg,z.sL,G.m,H.aF,c.u5,x.PV,K.o,_.b1,M.o7]}),o})()}}]);