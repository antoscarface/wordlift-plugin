"use strict";(self.webpackChunkwordlift_dashboard=self.webpackChunkwordlift_dashboard||[]).push([[797],{8797:(B,C,o)=>{o.r(C),o.d(C,{ContentGenerationDialogsModule:()=>X});var p=o(6895),m=o(9132),e=o(4650),u=o(87),T=o(7579),c=o(2722),y=o(2878),z=o(9651),x=o(7287),s=o(3910),g=o(7423),f=o(6903),Z=o(8823),v=o(6616),G=o(7044);const M=["alertTemplate"];function N(n,i){1&n&&(e.TgZ(0,"p",8),e._UZ(1,"span",9),e.qZA())}function E(n,i){if(1&n&&(e.TgZ(0,"div")(1,"p")(2,"strong"),e._uU(3,"Delete Project?"),e.qZA()(),e.TgZ(4,"p"),e._uU(5),e.qZA()()),2&n){const t=e.oxw(2);e.xp6(5),e.hij("Are you sure you want to delete ",t.contentGeneration.name,"?")}}function O(n,i){1&n&&(e.TgZ(0,"div",4)(1,"nz-space",5),e.YNc(2,N,2,0,"p",6),e.YNc(3,E,6,1,"div",7),e.qZA()())}function J(n,i){if(1&n){const t=e.EpF();e._uU(0),e.TgZ(1,"button",10),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.undo())}),e._uU(2,"Undo"),e.qZA()}if(2&n){const t=e.oxw();e.hij(" ",t.contentGeneration.name," has been deleted ")}}let I=(()=>{class n{constructor(t,a,r,_){this.route=t,this.contentGenerationsService=a,this.messageService=r,this.outletService=_,this.visible=!0,this.contentGeneration=void 0,this.messageId=void 0,this.destroy$=new T.x}ngOnInit(){this.route.data.pipe((0,c.R)(this.destroy$)).subscribe(({contentGeneration:t})=>{this.contentGeneration=t,this.visible=!0})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}delete(){this.contentGenerationsService.updateContentGeneration({id:this.contentGeneration.id,body:(0,u.J)({...this.contentGeneration,deleted:!0})}).pipe((0,c.R)(this.destroy$)).subscribe(()=>{this.hide(),this.messageId=this.messageService.success(this.alertTemplate).messageId})}undo(){this.contentGenerationsService.updateContentGeneration({id:this.contentGeneration.id,body:(0,u.J)({...this.contentGeneration,deleted:!1})}).pipe((0,c.R)(this.destroy$)).subscribe(()=>{this.messageService.remove(this.messageId),this.hide()})}hide(){this.outletService.closeOutlet("dialog").then()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(m.gz),e.Y36(y.n),e.Y36(z.dD),e.Y36(x.X))},n.\u0275cmp=e.Xpm({type:n,selectors:[["wlx-content-generation-delete"]],viewQuery:function(t,a){if(1&t&&e.Gf(M,5,e.Rgc),2&t){let r;e.iGM(r=e.CRH())&&(a.alertTemplate=r.first)}},decls:5,vars:1,consts:[["nzOkText","Delete","nzOkDanger","true","nzCancelText","Cancel",3,"nzVisible","nzOnOk","nzOnCancel"],["nz-icon","","nzType","info-circle","nzTheme","outline"],["class","modal-content",4,"nzModalContent"],["alertTemplate",""],[1,"modal-content"],["nzAlign","start"],["nz-typography","","nzType","danger","class","delete-modal-icon",4,"nzSpaceItem"],[4,"nzSpaceItem"],["nz-typography","","nzType","danger",1,"delete-modal-icon"],["nz-icon","","nzType","info-circle","nzTheme","fill"],["nz-button","","nzSize","small","nzType","link",3,"click"]],template:function(t,a){1&t&&(e.TgZ(0,"nz-modal",0),e.NdJ("nzOnOk",function(){return a.delete()})("nzOnCancel",function(){return a.hide()}),e._UZ(1,"span",1),e.YNc(2,O,4,0,"div",2),e.qZA(),e.YNc(3,J,3,1,"ng-template",null,3,e.W1O)),2&t&&e.Q6J("nzVisible",a.visible)},dependencies:[s.du,s.Hf,g.Ls,f.NU,f.$1,Z.ZU,v.ix,G.w],styles:[".modal-content[_ngcontent-%COMP%]{padding:24px}"]}),n})();var l=o(4006),D=o(9597),U=o(1664),S=o(3679),d=o(6704),h=o(8231),b=o(5635);function F(n,i){1&n&&e._UZ(0,"nz-alert",14)}function Y(n,i){if(1&n&&e._UZ(0,"nz-option",15),2&n){const t=i.$implicit;e.Q6J("nzValue",t.id)("nzLabel",t.id)}}function R(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"form",3),e.NdJ("ngSubmit",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.submitForm())}),e.YNc(2,F,1,0,"nz-alert",4),e.TgZ(3,"nz-form-item")(4,"nz-form-label",5),e._uU(5,"Project Name"),e.qZA(),e.TgZ(6,"nz-form-control",6),e._UZ(7,"input",7),e.qZA()(),e.TgZ(8,"nz-form-item")(9,"nz-form-label",8),e._uU(10,"Stop Sequence "),e.qZA(),e.TgZ(11,"nz-form-control",9),e._UZ(12,"input",10),e.qZA()(),e.TgZ(13,"nz-form-item")(14,"nz-form-label",11),e._uU(15,"Model"),e.qZA(),e.TgZ(16,"nz-form-control")(17,"nz-select",12),e.YNc(18,Y,1,2,"nz-option",13),e.qZA()()()()()}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("formGroup",t.formGroup),e.xp6(1),e.Q6J("ngIf",t.submitted&&!t.formGroup.valid),e.xp6(16),e.Q6J("ngForOf",t.pageModel.items)}}function $(n,i){1&n&&(e.TgZ(0,"div",19),e._UZ(1,"span",20),e._uU(2," Discard changes? "),e.qZA())}function j(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"button",21),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.cancel())}),e._uU(2,"Cancel"),e.qZA(),e.TgZ(3,"button",22),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.submitForm())}),e._uU(4," Save Changes "),e.qZA()()}}function w(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"button",21),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.keepEditing())}),e._uU(2," Keep Editing "),e.qZA(),e.TgZ(3,"button",23),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.closeAndDiscard())}),e._uU(4," Close & Discard "),e.qZA()()}}function H(n,i){if(1&n&&(e.TgZ(0,"div",16)(1,"div"),e.YNc(2,$,3,0,"div",17),e.qZA(),e.YNc(3,j,5,0,"div",18),e.YNc(4,w,5,0,"div",18),e.qZA()),2&n){const t=e.oxw();e.xp6(2),e.Q6J("ngIf","cancelling"==t.state),e.xp6(1),e.Q6J("ngIf","initial"==t.state),e.xp6(1),e.Q6J("ngIf","cancelling"==t.state)}}let Q=(()=>{class n{constructor(t,a,r,_){this.route=t,this.contentGenerationsService=a,this.outletService=r,this.messageService=_,this.destroy$=new T.x,this.state="initial"}ngOnInit(){this.route.data.pipe((0,c.R)(this.destroy$)).subscribe(({contentGeneration:t,pageModel:a})=>{this.contentGeneration=t,this.pageModel=a,this.formGroup=new l.cw({name:new l.NI(t?.name,[l.kI.required]),model:new l.NI(t?.model,[l.kI.required]),stop:new l.NI(t?.stop,[l.kI.required])})})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}cancel(){if(!this.formGroup.dirty)return this.closeAndDiscard();this.state="cancelling"}closeAndDiscard(){this.outletService.closeOutlet("dialog").then()}submitForm(){this.formGroup.valid?this.contentGenerationsService.updateContentGeneration({id:this.contentGeneration.id,body:(0,u.J)({...this.contentGeneration,...this.formGroup.value})}).pipe((0,c.R)(this.destroy$)).subscribe(()=>this.outletService.closeOutlet("dialog").then(()=>this.messageService.create("success","Changes saved successfully"))):(this.submitted=!0,Object.values(this.formGroup.controls).forEach(t=>{t.invalid&&(t.markAsDirty(),t.updateValueAndValidity({onlySelf:!0}))}))}keepEditing(){this.state="initial"}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(m.gz),e.Y36(y.n),e.Y36(x.X),e.Y36(z.dD))},n.\u0275cmp=e.Xpm({type:n,selectors:[["wlx-content-generation-edit"]],decls:3,vars:1,consts:[["nzVisible","true","nzWidth","696px",3,"nzTitle","nzOnCancel"],[4,"nzModalContent"],["nz-row","","nzJustify","space-between","nzAlign","middle",4,"nzModalFooter"],["nz-form","","nzLayout","vertical",3,"formGroup","ngSubmit"],["id","alert","nzType","error","nzMessage","To save a Project, please fill in all the mandatory fields.","nzShowIcon","",4,"ngIf"],["nzRequired","","nzFor","name"],["nzErrorTip","Please input the project's name.","nzHasFeedback",""],["type","text","nz-input","","formControlName","name","placeholder","Name"],["nzRequired","","nzFor","stop","nzTooltipTitle","What do you want other to call you"],["nzErrorTip","Please input the stop sequence value.","nzHasFeedback",""],["type","text","nz-input","","formControlName","stop","placeholder","Stop"],["nzRequired","","nzFor","model"],["formControlName","model","nzPlaceHolder","Choose a model"],[3,"nzValue","nzLabel",4,"ngFor","ngForOf"],["id","alert","nzType","error","nzMessage","To save a Project, please fill in all the mandatory fields.","nzShowIcon",""],[3,"nzValue","nzLabel"],["nz-row","","nzJustify","space-between","nzAlign","middle"],["id","discard-changes-text",4,"ngIf"],[4,"ngIf"],["id","discard-changes-text"],["nz-icon","","nzType","close-circle","nzTheme","fill"],["nz-button","","nzType","default",3,"click"],["nz-button","","nzType","primary",3,"click"],["nz-button","","nzType","primary","nzDanger","",3,"click"]],template:function(t,a){1&t&&(e.TgZ(0,"nz-modal",0),e.NdJ("nzOnCancel",function(){return a.cancel()}),e.YNc(1,R,19,3,"div",1),e.YNc(2,H,5,3,"div",2),e.qZA()),2&t&&e.MGl("nzTitle","Edit ",a.contentGeneration.name,"")},dependencies:[p.sg,p.O5,s.du,s.Uh,s.Hf,g.Ls,D.r,v.ix,G.w,U.dQ,S.t3,S.SK,d.Lr,d.Nx,d.iK,d.Fd,h.Ip,h.Vq,b.Zp,l._Y,l.Fj,l.JJ,l.JL,l.sg,l.u],styles:["#discard-changes-text[_ngcontent-%COMP%]{color:var(--color-danger-default)}"]}),n})();var A=o(4943),L=o(6739);const V=[{path:":contentGenerationId/edit",component:Q,resolve:{contentGeneration:A.M,pageModel:L.p}},{path:":contentGenerationId/delete",component:I,resolve:{contentGeneration:A.M}}];let P=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[m.Bz.forChild(V),m.Bz]}),n})();var K=o(1860),k=o(433);let X=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[p.ez,K.ContentGenerationModule,P,s.Qp,g.PV,f.zf,Z.ZJ,D.L,z.gR,v.sL,d.U5,h.LV,b.o7,l.UX,k.cS]}),n})()}}]);