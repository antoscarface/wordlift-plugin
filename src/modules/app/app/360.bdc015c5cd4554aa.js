"use strict";(self.webpackChunkwordlift_plugin_app=self.webpackChunkwordlift_plugin_app||[]).push([[360],{6360:(q,h,i)=>{i.r(h),i.d(h,{RecipesModule:()=>W});var p=i(6895),_=i(8176),M=i(7579),f=i(8505),z=i(4351),v=i(9635),w=i(5698),T=i(9300),y=i(6150),t=i(4650),Z=i(6712),c=i(433),m=i(8800),l=i(13),u=i(545),P=i(5087),R=i(1354),b=i(1723),d=i(8231),x=i(7423),O=i(5505),C=i(7570);function A(e,a){1&e&&t.GkF(0)}function I(e,a){if(1&e){const n=t.EpF();t.TgZ(0,"wlx-filters",19),t.NdJ("filterChange",function(s){t.CHM(n);const r=t.oxw(2);return t.KtG(r.filter=s)})("filterChange",function(){t.CHM(n);const s=t.oxw(2);return t.KtG(s.cursor.next(""))}),t.qZA()}if(2&e){const n=t.oxw(2);t.Q6J("filter",n.filter)("stats",n.stats)}}function J(e,a){if(1&e){const n=t.EpF();t.TgZ(0,"div",9)(1,"p",10),t._uU(2),t.qZA(),t.YNc(3,I,1,2,"wlx-filters",11),t.TgZ(4,"nz-select",12),t.NdJ("ngModelChange",function(s){t.CHM(n);const r=t.oxw();return t.KtG(r.postStatus=s)})("ngModelChange",function(){t.CHM(n);const s=t.oxw();return t.KtG(s.reload())}),t._UZ(5,"nz-option",13)(6,"nz-option",14)(7,"nz-option",15),t.qZA(),t.TgZ(8,"nz-select",16),t.NdJ("ngModelChange",function(s){t.CHM(n);const r=t.oxw();return t.KtG(r.sort=s)})("ngModelChange",function(){t.CHM(n);const s=t.oxw();return t.KtG(s.reload())}),t._UZ(9,"nz-option",17)(10,"nz-option",18),t.qZA()()}if(2&e){const n=t.oxw();t.xp6(2),t.AsE("",n.stats.total," ",n.stats.label,""),t.xp6(1),t.Q6J("ngIf",n.page),t.xp6(1),t.Q6J("ngModel",n.postStatus),t.xp6(1),t.Q6J("nzValue",void 0),t.xp6(3),t.Q6J("ngModel",n.sort)}}const N=function(){return{width:325}},S=function(){return{width:100}};function F(e,a){if(1&e&&(t.TgZ(0,"tr",21)(1,"td"),t._UZ(2,"nz-skeleton",22),t.qZA(),t.TgZ(3,"td"),t._UZ(4,"nz-skeleton",22),t.qZA()()),2&e){const n=t.oxw(2);t.xp6(2),t.Q6J("nzActive",!0)("nzLoading",n.loading)("nzParagraph",!1)("nzTitle",t.DdM(8,N)),t.xp6(2),t.Q6J("nzActive",!0)("nzLoading",n.loading)("nzParagraph",!1)("nzTitle",t.DdM(9,S))}}function Q(e,a){if(1&e&&(t.TgZ(0,"tbody"),t.YNc(1,F,5,10,"tr",20),t.qZA()),2&e){t.oxw();const n=t.MAs(8);t.xp6(1),t.Q6J("ngForOf",n.data)}}function U(e,a){1&e&&(t.TgZ(0,"span"),t._uU(1," \u2013 Draft"),t.qZA())}function E(e,a){if(1&e&&(t.TgZ(0,"a",31),t._uU(1,"Edit"),t.qZA()),2&e){const n=t.oxw().$implicit;t.s9C("href",n.parent_post_link,t.LSH)}}function L(e,a){if(1&e&&(t.TgZ(0,"a",31),t._uU(1,"View"),t.qZA()),2&e){const n=t.oxw().$implicit;t.s9C("href",n.view_link,t.LSH)}}function H(e,a){if(1&e){const n=t.EpF();t.TgZ(0,"tr",24)(1,"td")(2,"a",25),t._uU(3),t.qZA(),t.YNc(4,U,2,0,"span",0),t.TgZ(5,"div",26)(6,"div",27),t.YNc(7,E,2,1,"a",28),t.YNc(8,L,2,1,"a",28),t.qZA()()(),t.TgZ(9,"td"),t._uU(10),t.qZA(),t.TgZ(11,"td",29)(12,"wlx-main-ingredient",30),t.NdJ("onMainIngredientChange",function(s){const g=t.CHM(n).$implicit,X=t.oxw(2);return t.KtG(X.ingredientChange(g,s))})("onStartEdit",function(){const r=t.CHM(n).$implicit,g=t.oxw(2);return t.KtG(g.startEdit(r.id))})("onStopEdit",function(){t.CHM(n);const s=t.oxw(2);return t.KtG(s.stopEdit())}),t.qZA()()()}if(2&e){const n=a.$implicit,o=a.index,s=t.oxw(2);t.xp6(2),t.Q6J("href",n.parent_post_link,t.LSH),t.xp6(1),t.Oqu(n.parent_post_title),t.xp6(1),t.Q6J("ngIf","draft"===n.post_status),t.xp6(3),t.Q6J("ngIf",n.parent_post_link),t.xp6(1),t.Q6J("ngIf",n.view_link),t.xp6(2),t.hij(" ",n.post_title," "),t.xp6(2),t.Q6J("wlxCyId","AutoCompleteField"+o)("data",n)("editMode",s.editId===n.id)}}function Y(e,a){if(1&e&&(t.TgZ(0,"tbody"),t.YNc(1,H,13,9,"tr",23),t.qZA()),2&e){t.oxw();const n=t.MAs(8);t.xp6(1),t.Q6J("ngForOf",n.data)}}const G=function(){return[]},D=[{path:"",pathMatch:"full",redirectTo:"recipes"},{path:"recipes",data:{breadcrumb:"Recipes"},component:(()=>{class e{constructor(n,o){this.appSettings=n,this.postMatchesService=o,this.loading=!0,this.editId=null,this.perPage={value:10},this.sort="-date_modified_gmt",this.cursor=new M.x,this.cursor$=this.cursor.asObservable().pipe((0,T.h)(s=>null!=s),(0,f.b)(()=>{this.loading=!0}),(0,z.b)(s=>this.postMatchesService.listPostMatches({post_types:["wprm_recipe"],cursor:s,has_match:this.filter,limit:this.perPage.value,post_status:this.postStatus,sort:this.sort})),(0,v.z)((0,f.b)(s=>{this.page=s,this.loading=!1}))),this.Number=Number,this.stats=n.stats.find(s=>"Recipes"===s.label)}ngOnInit(){this.reload()}reload(){this.loading=!0,this.postMatchesService.listPostMatches({post_types:["wprm_recipe"],has_match:this.filter,limit:this.perPage.value,post_status:this.postStatus,sort:this.sort}).subscribe(n=>{this.page=n,this.loading=!1})}ingredientChange(n,o){(Number.isInteger(n.match_id)?this.postMatchesService.updatePostMatch({post_id:n.id,match_id:n.match_id,body:o}):this.postMatchesService.createPostMatch({post_id:n.id,body:o})).pipe((0,w.q)(1)).subscribe()}startEdit(n){this.editId=n}stopEdit(){this.editId=null}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(y.N),t.Y36(Z.D))},e.\u0275cmp=t.Xpm({type:e,selectors:[["wlx-recipes"]],decls:21,vars:16,consts:[[4,"ngIf"],["nz-typography","","id","heading"],["nz-typography","","nzType","secondary","id","description"],["id","filters",4,"ngIf"],[3,"nzData","nzNoResult","nzShowPagination","nzFrontPagination","nzTotal","nzLoading"],["basicTable",""],["nzWidth","369.33px",1,"table-header"],["nz-icon","","nz-tooltip","","nzTooltipTitle","The main ingredient entity matching the recipe title.","nzType","question-circle","nzTheme","outline",1,"tooltip"],["wlxCy","","wlxCyId","RecipesPagination",3,"page","cursor","perPage"],["id","filters"],["id","count"],["wlxCy","","wlxCyId","RecipesFilters",3,"filter","stats","filterChange",4,"ngIf"],[1,"post_status",3,"ngModel","ngModelChange"],[3,"nzValue"],["nzValue","publish","nzLabel","Published"],["nzValue","draft","nzLabel","Drafts"],[3,"ngModel","ngModelChange"],["nzValue","-date_modified_gmt","nzLabel","Newest First"],["nzValue","+date_modified_gmt","nzLabel","Oldest First"],["wlxCy","","wlxCyId","RecipesFilters",3,"filter","stats","filterChange"],["class","table-row",4,"ngFor","ngForOf"],[1,"table-row"],[3,"nzActive","nzLoading","nzParagraph","nzTitle"],["class","table-row editable-row",4,"ngFor","ngForOf"],[1,"table-row","editable-row"],["target","_blank",3,"href"],[1,"links-main"],[1,"links"],["class","links-item","target","_blank",3,"href",4,"ngIf"],[1,"autocomplete-input-column"],["wlxCy","","datasetUri","https://knowledge.cafemedia.com/food/",1,"autocomplete-input","editable-cell",3,"wlxCyId","data","editMode","onMainIngredientChange","onStartEdit","onStopEdit"],["target","_blank",1,"links-item",3,"href"]],template:function(n,o){1&n&&(t.YNc(0,A,1,0,"ng-container",0),t.ALo(1,"async"),t.TgZ(2,"h1",1),t._uU(3,"Recipes"),t.qZA(),t.TgZ(4,"p",2),t._uU(5,' This is the list of the Posts with Recipes. For each Recipe, WordLift matched the main ingredient which will show in the Structured Data "about" property. To assign a new ingredient, click on the name (or on the dash) and start typing to select it from the list. Then click anywhere to accept the change.\n'),t.qZA(),t.YNc(6,J,11,6,"div",3),t.TgZ(7,"nz-table",4,5)(9,"thead")(10,"tr")(11,"th",6),t._uU(12,"Post Title"),t.qZA(),t.TgZ(13,"th",6),t._uU(14,"Recipe Name"),t.qZA(),t.TgZ(15,"th",6),t._uU(16," Matched Ingredient "),t._UZ(17,"span",7),t.qZA()()(),t.YNc(18,Q,2,1,"tbody",0),t.YNc(19,Y,2,1,"tbody",0),t.qZA(),t._UZ(20,"wlx-pagination",8)),2&n&&(t.Q6J("ngIf",t.lcZ(1,13,o.cursor$)),t.xp6(6),t.Q6J("ngIf",o.page),t.xp6(1),t.Q6J("nzData",o.page&&o.page.items?o.page.items:t.DdM(15,G))("nzNoResult",void 0)("nzShowPagination",!1)("nzFrontPagination",!1)("nzTotal",o.Number.MAX_SAFE_INTEGER)("nzLoading",o.loading),t.xp6(11),t.Q6J("ngIf",o.loading),t.xp6(1),t.Q6J("ngIf",!o.loading),t.xp6(1),t.Q6J("page",o.page)("cursor",o.cursor)("perPage",o.perPage))},dependencies:[p.sg,p.O5,c.JJ,c.On,m.ZU,l.N8,l.Uo,l._C,l.Om,l.p0,l.$Z,u.ng,P.Q,R.l,b.b,d.Ip,d.Vq,x.Ls,O.N,C.SY,p.Ov],styles:["#heading[_ngcontent-%COMP%]{font-weight:600;font-size:20px;line-height:32px}.editable-cell[_ngcontent-%COMP%]{position:relative;cursor:pointer}.editable-row[_ngcontent-%COMP%]:hover   .editable-cell[_ngcontent-%COMP%]{border:1px solid #d9d9d9;border-radius:4px}.editable-cell[_ngcontent-%COMP%]:focus-within{border:none}wlx-pagination[_ngcontent-%COMP%], #filters[_ngcontent-%COMP%]{width:100%;flex-direction:row;display:flex;align-items:center;margin-top:18px;margin-bottom:16px}#count[_ngcontent-%COMP%]{font-weight:400;font-size:14px;line-height:19px;color:#00000073;margin:0}wlx-filters[_ngcontent-%COMP%]{margin-left:auto}#description[_ngcontent-%COMP%]{text-align:justify;font-weight:400;font-size:16px;line-height:24px;color:#000000a6;width:600px}.autocomplete-input[_ngcontent-%COMP%]{width:320px;height:32px;display:block}.autocomplete-input-column[_ngcontent-%COMP%]{padding:16px}.table-header[_ngcontent-%COMP%]{font-weight:600;font-size:14px;line-height:22px;color:#000000e0}.tooltip[_ngcontent-%COMP%]{cursor:pointer;margin:4px 3px;color:#00000073}.post_status[_ngcontent-%COMP%]{min-width:105px;margin-left:8px;margin-right:8px}.items_sort[_ngcontent-%COMP%]{min-width:164px;margin-left:8px}.links[_ngcontent-%COMP%]{display:none}.links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{width:21px;height:16px;color:#007aff;font-style:normal;font-weight:400;font-size:12px;line-height:16px}.links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:first-child{border-right:1px solid rgba(0,0,0,.15);margin-right:6px;padding-right:6px}td[_ngcontent-%COMP%]{height:80px}.links-main[_ngcontent-%COMP%]{height:16px}td[_ngcontent-%COMP%]:hover   .links[_ngcontent-%COMP%]{display:block}"]}),e})()}];let V=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[_.Bz.forChild(D),_.Bz]}),e})();var $=i(2271),K=i(5635),j=i(4586),B=i(2383),k=i(5540);let W=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[p.ez,V,c.u5,m.ZJ,l.HQ,u.H0,$.m,d.LV,K.o7,j.D,B.ic,x.PV,k.o,C.cg]}),e})()}}]);