"use strict";(self.webpackChunkwordlift_plugin_app=self.webpackChunkwordlift_plugin_app||[]).push([[360],{6360:(W,f,i)=>{i.r(f),i.d(f,{RecipesModule:()=>c});var d=i(6895),m=i(8176),z=i(7579),y=i(4351),w=i(9635),u=i(8505),T=i(5698),M=i(9300),Z=i(6150),t=i(4650),R=i(240),x=i(8800),r=i(13),C=i(545),A=i(5087),b=i(1354),P=i(1723),_=i(7423),O=i(5505),v=i(7570);function I(o,e){1&o&&t.GkF(0)}function S(o,e){if(1&o){const n=t.EpF();t.TgZ(0,"wlx-filters",12),t.NdJ("filterChange",function(s){t.CHM(n);const g=t.oxw(2);return t.KtG(g.filter=s)})("filterChange",function(){t.CHM(n);const s=t.oxw(2);return t.KtG(s.cursor.next(""))}),t.qZA()}if(2&o){const n=t.oxw(2);t.Q6J("filter",n.filter)("stats",n.stats)}}function F(o,e){if(1&o&&(t.TgZ(0,"div",9)(1,"p",10),t._uU(2),t.qZA(),t.YNc(3,S,1,2,"wlx-filters",11),t.qZA()),2&o){const n=t.oxw();t.xp6(2),t.AsE("",n.stats.total," ",n.stats.label,""),t.xp6(1),t.Q6J("ngIf",n.page)}}const J=function(){return{width:325}},N=function(){return{width:100}};function E(o,e){if(1&o&&(t.TgZ(0,"tr",14)(1,"td"),t._UZ(2,"nz-skeleton",15),t.qZA(),t.TgZ(3,"td"),t._UZ(4,"nz-skeleton",15),t.qZA()()),2&o){const n=t.oxw(2);t.xp6(2),t.Q6J("nzActive",!0)("nzLoading",n.loading)("nzParagraph",!1)("nzTitle",t.DdM(8,J)),t.xp6(2),t.Q6J("nzActive",!0)("nzLoading",n.loading)("nzParagraph",!1)("nzTitle",t.DdM(9,N))}}function Q(o,e){if(1&o&&(t.TgZ(0,"tbody"),t.YNc(1,E,5,10,"tr",13),t.qZA()),2&o){t.oxw();const n=t.MAs(8);t.xp6(1),t.Q6J("ngForOf",n.data)}}function U(o,e){if(1&o){const n=t.EpF();t.TgZ(0,"tr",17)(1,"td")(2,"a",18),t._uU(3),t.qZA()(),t.TgZ(4,"td"),t._uU(5),t.qZA(),t.TgZ(6,"td",19)(7,"wlx-main-ingredient",20),t.NdJ("onMainIngredientChange",function(s){const h=t.CHM(n).$implicit,V=t.oxw(2);return t.KtG(V.ingredientChange(h,s))})("onStartEdit",function(){const g=t.CHM(n).$implicit,h=t.oxw(2);return t.KtG(h.startEdit(g.id))})("onStopEdit",function(){t.CHM(n);const s=t.oxw(2);return t.KtG(s.stopEdit())}),t.qZA()()()}if(2&o){const n=e.$implicit,a=e.index,s=t.oxw(2);t.xp6(2),t.Q6J("href",n.parent_post_link,t.LSH),t.xp6(1),t.Oqu(n.parent_post_title),t.xp6(2),t.hij(" ",n.post_title," "),t.xp6(2),t.Q6J("wlxCyId","AutoCompleteField"+a)("data",n)("editMode",s.editId===n.id)}}function Y(o,e){if(1&o&&(t.TgZ(0,"tbody"),t.YNc(1,U,8,6,"tr",16),t.qZA()),2&o){t.oxw();const n=t.MAs(8);t.xp6(1),t.Q6J("ngForOf",n.data)}}const H=function(){return[]};class p{constructor(e,n){this.appSettings=e,this.apiService=n,this.loading=!1,this.editId=null,this.cursor=new z.x,this.cursor$=this.cursor.asObservable().pipe((0,M.h)(a=>null!=a),(0,y.b)(a=>this.apiService.list({post_types:["wprm_recipe"],cursor:a,has_match:this.filter})),(0,w.z)((0,u.b)(a=>{this.page=a}))),this.Number=Number,this.stats=e.stats.find(a=>"Recipes"===a.label)}ngOnInit(){this.apiService.list({post_types:["wprm_recipe"]}).pipe((0,u.b)(()=>this.loading=!1)).subscribe(e=>{this.page=e})}ingredientChange(e,n){(e.match_id?this.apiService.create({post_id:e.id,body:n}):this.apiService.update({post_id:e.id,match_id:e.match_id,body:n})).pipe((0,T.q)(1)).subscribe()}startEdit(e){this.editId=e}stopEdit(){this.editId=null}}p.\u0275fac=function(e){return new(e||p)(t.Y36(Z.N),t.Y36(R.s))},p.\u0275cmp=t.Xpm({type:p,selectors:[["wlx-recipes"]],decls:21,vars:14,consts:[[4,"ngIf"],["nz-typography","","id","heading"],["nz-typography","","nzType","secondary","id","description"],["id","filters",4,"ngIf"],[3,"nzData","nzNoResult","nzShowPagination","nzFrontPagination","nzTotal"],["basicTable",""],["nzWidth","369.33px",1,"table-header"],["nz-icon","","nz-tooltip","","nzTooltipTitle","The main ingredient entity matching the recipe title.","nzType","question-circle","nzTheme","outline",1,"tooltip"],["wlxCy","","wlxCyId","RecipesPagination",3,"page","cursor"],["id","filters"],["id","count"],["wlxCy","","wlxCyId","RecipesFilters",3,"filter","stats","filterChange",4,"ngIf"],["wlxCy","","wlxCyId","RecipesFilters",3,"filter","stats","filterChange"],["class","table-row",4,"ngFor","ngForOf"],[1,"table-row"],[3,"nzActive","nzLoading","nzParagraph","nzTitle"],["class","table-row editable-row",4,"ngFor","ngForOf"],[1,"table-row","editable-row"],["target","_blank",3,"href"],[1,"autocomplete-input-column"],["wlxCy","","datasetUri","https://knowledge.cafemedia.com/food/",1,"autocomplete-input","editable-cell",3,"wlxCyId","data","editMode","onMainIngredientChange","onStartEdit","onStopEdit"]],template:function(e,n){1&e&&(t.YNc(0,I,1,0,"ng-container",0),t.ALo(1,"async"),t.TgZ(2,"h1",1),t._uU(3,"Recipes"),t.qZA(),t.TgZ(4,"p",2),t._uU(5,' This is the list of the Posts with Recipes. For each Recipe, WordLift matched the main ingredient which will show in the Structured Data "about" property. To assign a new ingredient, click on the name (or on the dash) and start typing to select it from the list. Then click anywhere to accept the change.\n'),t.qZA(),t.YNc(6,F,4,3,"div",3),t.TgZ(7,"nz-table",4,5)(9,"thead")(10,"tr")(11,"th",6),t._uU(12,"Post title"),t.qZA(),t.TgZ(13,"th",6),t._uU(14,"Recipe Name"),t.qZA(),t.TgZ(15,"th",6),t._uU(16," Matched Ingredient "),t._UZ(17,"span",7),t.qZA()()(),t.YNc(18,Q,2,1,"tbody",0),t.YNc(19,Y,2,1,"tbody",0),t.qZA(),t._UZ(20,"wlx-pagination",8)),2&e&&(t.Q6J("ngIf",t.lcZ(1,11,n.cursor$)),t.xp6(6),t.Q6J("ngIf",n.page),t.xp6(1),t.Q6J("nzData",n.page&&n.page.items?n.page.items:t.DdM(13,H))("nzNoResult",void 0)("nzShowPagination",!1)("nzFrontPagination",!1)("nzTotal",n.Number.MAX_SAFE_INTEGER),t.xp6(11),t.Q6J("ngIf",n.loading),t.xp6(1),t.Q6J("ngIf",!n.loading),t.xp6(1),t.Q6J("page",n.page)("cursor",n.cursor))},dependencies:[d.sg,d.O5,x.ZU,r.N8,r.Uo,r._C,r.Om,r.p0,r.$Z,C.ng,A.Q,b.l,P.b,_.Ls,O.N,v.SY,d.Ov],styles:["#heading[_ngcontent-%COMP%]{font-weight:600;font-size:20px;line-height:32px}.editable-cell[_ngcontent-%COMP%]{position:relative;cursor:pointer}.editable-row[_ngcontent-%COMP%]:hover   .editable-cell[_ngcontent-%COMP%]{border:1px solid #d9d9d9;border-radius:4px}.editable-cell[_ngcontent-%COMP%]:focus-within{border:none}wlx-pagination[_ngcontent-%COMP%], #filters[_ngcontent-%COMP%]{width:100%;flex-direction:row;display:flex;align-items:center;margin-top:18px;margin-bottom:16px}#count[_ngcontent-%COMP%]{font-weight:400;font-size:14px;line-height:19px;color:#00000073;margin:0}wlx-filters[_ngcontent-%COMP%]{margin-left:auto}#description[_ngcontent-%COMP%]{text-align:justify;font-weight:400;font-size:16px;line-height:24px;color:#000000a6;width:600px}.autocomplete-input[_ngcontent-%COMP%]{width:320px;height:32px;display:block}.autocomplete-input-column[_ngcontent-%COMP%]{padding:16px}.table-header[_ngcontent-%COMP%]{font-weight:600;font-size:14px;line-height:22px;color:#000000e0}.tooltip[_ngcontent-%COMP%]{cursor:pointer;margin:4px 3px;color:#00000073}"]});const L=[{path:"",pathMatch:"full",redirectTo:"recipes"},{path:"recipes",data:{breadcrumb:"Recipes"},component:p}];class l{}l.\u0275fac=function(e){return new(e||l)},l.\u0275mod=t.oAB({type:l}),l.\u0275inj=t.cJS({imports:[m.Bz.forChild(L),m.Bz]});var $=i(2271),D=i(8231),G=i(5635),j=i(4586),K=i(2383),B=i(5540);class c{}c.\u0275fac=function(e){return new(e||c)},c.\u0275mod=t.oAB({type:c}),c.\u0275inj=t.cJS({imports:[d.ez,l,x.ZJ,r.HQ,C.H0,$.m,D.LV,G.o7,j.D,K.ic,_.PV,B.o,v.cg]})}}]);