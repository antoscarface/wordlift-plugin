"use strict";(self.webpackChunkwordlift_plugin_app=self.webpackChunkwordlift_plugin_app||[]).push([[990],{1990:(j,m,e)=>{e.r(m),e.d(m,{IngredientsModule:()=>l});var c=e(6895),f=e(8176),I=e(7579),z=e(4351),y=e(9635),u=e(8505),T=e(5698),M=e(6150),t=e(4650),w=e(7075),x=e(8800),d=e(13),C=e(7570),_=e(7044),Z=e(5087),P=e(1354),O=e(1723),v=e(7423),b=e(5505);function S(o,i){1&o&&t.GkF(0)}function A(o,i){if(1&o){const n=t.EpF();t.TgZ(0,"div",10)(1,"p",11),t._uU(2),t.qZA(),t.TgZ(3,"wlx-filters",12),t.NdJ("filterChange",function(a){t.CHM(n);const p=t.oxw();return t.KtG(p.filter=a)})("filterChange",function(){t.CHM(n);const a=t.oxw();return t.KtG(a.cursor.next(""))}),t.qZA()()}if(2&o){const n=t.oxw();t.xp6(2),t.AsE("",n.ingredient.total," ",n.ingredient.label,""),t.xp6(1),t.Q6J("filter",n.filter)("stats",n.ingredient)}}function E(o,i){if(1&o){const n=t.EpF();t.TgZ(0,"tr",14)(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td",15)(4,"wlx-main-ingredient",16),t.NdJ("onMainIngredientChange",function(a){const h=t.CHM(n).$implicit,Y=t.oxw(2);return t.KtG(Y.ingredientChange(h,a))})("onStartEdit",function(){const p=t.CHM(n).$implicit,h=t.oxw(2);return t.KtG(h.startEdit(p.id))})("onStopEdit",function(){t.CHM(n);const a=t.oxw(2);return t.KtG(a.stopEdit())}),t.qZA()()()}if(2&o){const n=i.$implicit,r=i.index,a=t.oxw(2);t.xp6(2),t.hij(" ",n.name," "),t.xp6(2),t.Q6J("data",n)("wlxCyId","AutoCompleteField"+r)("editMode",a.editId===n.id)}}function F(o,i){if(1&o&&(t.TgZ(0,"tbody"),t.YNc(1,E,5,4,"tr",13),t.qZA()),2&o){t.oxw();const n=t.MAs(8);t.xp6(1),t.Q6J("ngForOf",n.data)}}const N=function(){return[]};class g{constructor(i,n){this.appSettings=i,this.apiService=n,this.cursor=new I.x,this.editId=null,this.cursor$=this.cursor.asObservable().pipe((0,z.b)(r=>this.apiService.list({taxonomies:["wprm_ingredient"],cursor:r,has_match:this.filter})),(0,y.z)((0,u.b)(r=>{this.page=r}))),this.page=void 0,this.loading=!0,this.Number=Number,this.ingredient=i.stats.find(r=>"Ingredients"===r.label)}ngOnInit(){this.apiService.list({taxonomies:["wprm_ingredient"]}).pipe((0,u.b)(()=>this.loading=!1)).subscribe(i=>{this.page=i})}ingredientChange(i,n){(i.match_id?this.apiService.create({term_id:i.id,body:n}):this.apiService.update({term_id:i.id,match_id:i.match_id,body:n})).pipe((0,T.q)(1)).subscribe()}startEdit(i){this.editId=i}stopEdit(){this.editId=null}}g.\u0275fac=function(i){return new(i||g)(t.Y36(M.N),t.Y36(w.s))},g.\u0275cmp=t.Xpm({type:g,selectors:[["wlx-ingredients"]],decls:19,vars:13,consts:[[4,"ngIf"],["nz-typography","","id","heading"],["nz-typography","","nzType","secondary","id","description"],["id","filters",4,"ngIf"],[3,"nzData","nzNoResult","nzShowPagination","nzFrontPagination","nzTotal"],["basicTable",""],["nzWidth","554px",1,"table-header"],["nz-icon","","nzType","question-circle","nzTheme","outline","nz-tooltip","","nzTooltipTitle","The ingredient from the WPRM plugin ingredients taxonomy",1,"tooltip"],["nz-icon","","nzType","question-circle","nzTheme","outline","nz-tooltip","","nzTooltipTitle","The ingredient entity matching the WPRM plugin ingredient.",1,"tooltip"],["wlxCy","","wlxCyId","IngredientsPagination",3,"page","cursor"],["id","filters"],["id","count"],["wlxCy","","wlxCyId","IngredientsFilters",3,"filter","stats","filterChange"],["class","editable-row",4,"ngFor","ngForOf"],[1,"editable-row"],[1,"autocomplete-input-column"],["wlxCy","","datasetUri","https://knowledge.cafemedia.com/food/",1,"autocomplete-input","editable-cell",3,"data","wlxCyId","editMode","onMainIngredientChange","onStartEdit","onStopEdit"]],template:function(i,n){1&i&&(t.YNc(0,S,1,0,"ng-container",0),t.ALo(1,"async"),t.TgZ(2,"h1",1),t._uU(3,"Ingredients"),t.qZA(),t.TgZ(4,"p",2),t._uU(5,' This is the list of Ingredients. For each Ingredient, WordLift matched the ingredient entity which will show in the Structured Data "mentions" property To assign a new ingredient, click on the name (or on the dash) and start typing to select it from the list. Then click anywhere to accept the change.\n'),t.qZA(),t.YNc(6,A,4,4,"div",3),t.TgZ(7,"nz-table",4,5)(9,"thead")(10,"tr")(11,"th",6),t._uU(12," Ingredient Term "),t._UZ(13,"span",7),t.qZA(),t.TgZ(14,"th",6),t._uU(15," Matched Ingredient "),t._UZ(16,"span",8),t.qZA()()(),t.YNc(17,F,2,1,"tbody",0),t.qZA(),t._UZ(18,"wlx-pagination",9)),2&i&&(t.Q6J("ngIf",t.lcZ(1,10,n.cursor$)),t.xp6(6),t.Q6J("ngIf",n.page),t.xp6(1),t.Q6J("nzData",n.page&&n.page.items?n.page.items:t.DdM(12,N))("nzNoResult",void 0)("nzShowPagination",!1)("nzFrontPagination",!1)("nzTotal",n.Number.MAX_SAFE_INTEGER),t.xp6(10),t.Q6J("ngIf",!n.loading),t.xp6(1),t.Q6J("page",n.page)("cursor",n.cursor))},dependencies:[c.sg,c.O5,x.ZU,d.N8,d.Uo,d._C,d.Om,d.p0,d.$Z,C.SY,_.w,Z.Q,P.l,O.b,v.Ls,b.N,c.Ov],styles:["wlx-pagination[_ngcontent-%COMP%], #filters[_ngcontent-%COMP%]{width:100%;flex-direction:row;display:flex;align-items:center;margin-top:18px;margin-bottom:16px}#count[_ngcontent-%COMP%]{font-weight:400;font-size:14px;line-height:19px;color:#00000073;margin:0}.table-header[_ngcontent-%COMP%]{font-weight:600;font-size:14px;line-height:22px;color:#000000e0}.tooltip[_ngcontent-%COMP%]{cursor:pointer;margin:4px 3px;color:#00000073}.autocomplete-input[_ngcontent-%COMP%]{width:320px;height:32px;display:block}.autocomplete-input-column[_ngcontent-%COMP%]{padding:16px}nz-button-group[_ngcontent-%COMP%]{margin-left:auto}#heading[_ngcontent-%COMP%]{font-weight:600;font-size:20px;line-height:32px}#description[_ngcontent-%COMP%]{text-align:justify;font-weight:400;font-size:16px;line-height:24px;color:#000000a6;width:600px}wlx-filters[_ngcontent-%COMP%]{margin-left:auto}.editable-cell[_ngcontent-%COMP%]{position:relative;cursor:pointer}.editable-row[_ngcontent-%COMP%]:hover   .editable-cell[_ngcontent-%COMP%]{border:1px solid #d9d9d9;border-radius:4px}.editable-cell[_ngcontent-%COMP%]:focus-within{border:none}"]});const J=[{path:"",pathMatch:"full",redirectTo:"ingredients"},{path:"ingredients",data:{breadcrumb:"Ingredients"},component:g}];class s{}s.\u0275fac=function(i){return new(i||s)},s.\u0275mod=t.oAB({type:s}),s.\u0275inj=t.cJS({imports:[f.Bz.forChild(J),f.Bz]});var U=e(545),Q=e(6616),$=e(2271),G=e(8521),H=e(433),R=e(5540);class l{}l.\u0275fac=function(i){return new(i||l)},l.\u0275mod=t.oAB({type:l}),l.\u0275inj=t.cJS({imports:[c.ez,s,x.ZJ,d.HQ,U.H0,C.cg,Q.sL,$.m,G.aF,H.u5,v.PV,R.o]})}}]);