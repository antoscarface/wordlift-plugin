"use strict";(self.webpackChunkwordlift_plugin_app=self.webpackChunkwordlift_plugin_app||[]).push([[301],{7301:(X,p,e)=>{e.r(p),e.d(p,{TermsModule:()=>Y});var c=e(6895),h=e(8176),_=e(7579),u=e(8505),y=e(4351),b=e(9635),Z=e(5698),P=e(6150),t=e(4650),w=e(7548),f=e(8800),l=e(13),O=e(5087),S=e(1354),A=e(1723),C=e(5635),T=e(7423),J=e(5505),z=e(7570),m=e(433),x=e(9562),v=e(6616),F=e(7044),N=e(1664);function Q(i,a){1&i&&t.GkF(0)}function I(i,a){if(1&i){const n=t.EpF();t.TgZ(0,"div",20)(1,"p",21),t._uU(2),t.qZA(),t.TgZ(3,"wlx-filters",22),t.NdJ("filterChange",function(r){t.CHM(n);const s=t.oxw();return t.KtG(s.filter=r)})("filterChange",function(){t.CHM(n);const r=t.oxw();return t.KtG(r.cursor.next(""))}),t.qZA()()}if(2&i){const n=t.oxw();t.xp6(2),t.AsE("",n.stats.total," ",n.stats.label,""),t.xp6(1),t.Q6J("filter",n.filter)("stats",n.stats)}}function E(i,a){if(1&i){const n=t.EpF();t.TgZ(0,"tr",24)(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td",25)(4,"wlx-main-ingredient",26),t.NdJ("onMainIngredientChange",function(r){const g=t.CHM(n).$implicit,d=t.oxw(2);return t.KtG(d.ingredientChange(g,r))})("onStartEdit",function(){const s=t.CHM(n).$implicit,g=t.oxw(2);return t.KtG(g.startEdit(s.id))})("onStopEdit",function(){t.CHM(n);const r=t.oxw(2);return t.KtG(r.stopEdit())}),t.qZA()(),t.TgZ(5,"td"),t._uU(6),t.qZA()()}if(2&i){const n=a.$implicit,o=a.index,r=t.oxw(2);t.xp6(2),t.hij(" ",n.name," "),t.xp6(2),t.Q6J("wlxCyId","AutoCompleteField"+o)("data",n)("editMode",r.editId===n.id),t.xp6(2),t.hij(" ",n.occurrences," ")}}function U(i,a){if(1&i&&(t.TgZ(0,"tbody"),t.YNc(1,E,7,5,"tr",23),t.qZA()),2&i){t.oxw();const n=t.MAs(8);t.xp6(1),t.Q6J("ngForOf",n.data)}}const D=function(){return[]},R=[{path:"",pathMatch:"full",redirectTo:"terms"},{path:"terms",data:{breadcrumb:"Terms"},component:(()=>{class i{constructor(n,o){this.appSettings=n,this.termMatchesService=o,this.cursor=new _.x,this.editId=null,this.perPage={value:10},this.cursor$=this.cursor.asObservable().pipe((0,u.b)(()=>{this.loading=!0}),(0,y.b)(r=>this.termMatchesService.listTermMatches({cursor:r,taxonomies:"category",has_match:this.filter,limit:this.perPage.value,sort:this.sort,term_contains:this.termContains.length>0?this.termContains:void 0})),(0,b.z)((0,u.b)(r=>{this.page=r,this.loading=!1}))),this.visible=!1,this.termContains="",this.loading=!0,this.Number=Number,this.stats=n.stats.find(r=>"Terms"===r.label)}ngOnInit(){}reload(){this.loading=!0,this.termMatchesService.listTermMatches({taxonomies:"category",has_match:this.filter,limit:this.perPage.value,sort:this.sort}).subscribe(n=>{this.page=n,this.loading=!1})}ingredientChange(n,o){(Number.isInteger(n.match_id)?this.termMatchesService.updateTermMatch({term_id:n.id,match_id:n.match_id,body:o}):this.termMatchesService.createTermMatch({term_id:n.id,body:o})).pipe((0,Z.q)(1)).subscribe()}startEdit(n){this.editId=n}stopEdit(){this.editId=null}search(){this.cursor.next("")}reset(){this.termContains="",this.cursor.next("")}onQueryParamsChange(n){const{sort:s}=n,d=s.find(W=>null!==W.value),M=d&&d.key||null;M&&(this.sort=("descend"===(d&&d.value||null)?"-":"+")+M),this.reload()}}return i.\u0275fac=function(n){return new(n||i)(t.Y36(P.N),t.Y36(w.a0))},i.\u0275cmp=t.Xpm({type:i,selectors:[["wlx-terms"]],decls:32,vars:21,consts:[[4,"ngIf"],["nz-typography","","id","heading"],["nz-typography","","nzType","secondary","id","description"],["id","filters",4,"ngIf"],[3,"nzData","nzNoResult","nzShowPagination","nzFrontPagination","nzTotal","nzLoading","nzQueryParams"],["basicTable",""],["nzWidth","464px","nzCustomFilter","","nzColumnKey","term_name",1,"table-header",3,"nzSortFn"],[3,"nzVisible","nzActive","nzDropdownMenu","nzVisibleChange"],["nz-icon","","nzType","search"],["nzWidth","464px","nzColumnKey","entity_name",1,"table-header",3,"nzSortFn"],["nz-icon","","nzType","question-circle","nzTheme","outline","nz-tooltip","","nzTooltipTitle","The entity matching the taxonomy term.",1,"tooltip"],["nzWidth","180px",1,"table-header"],["nz-icon","","nzType","question-circle","nzTheme","outline","nz-tooltip","","nzTooltipTitle","Occurrences.",1,"tooltip"],["menu","nzDropdownMenu"],[1,"ant-table-filter-dropdown"],[1,"search-box"],["type","text","nz-input","","placeholder","Search name",3,"ngModel","ngModelChange"],["nz-button","","nzSize","small","nzType","primary",1,"search-button",3,"click"],["nz-button","","nzSize","small",3,"click"],["wlxCy","","wlxCyId","TermsPagination",3,"page","cursor","perPage"],["id","filters"],["id","count"],["wlxCy","","wlxCyId","TermsFilters",3,"filter","stats","filterChange"],["class","editable-row",4,"ngFor","ngForOf"],[1,"editable-row"],[1,"autocomplete-input-column"],["wlxCy","","datasetUri","https://knowledge.cafemedia.com/gardening/",1,"autocomplete-input","editable-cell",3,"wlxCyId","data","editMode","onMainIngredientChange","onStartEdit","onStopEdit"]],template:function(n,o){if(1&n&&(t.YNc(0,Q,1,0,"ng-container",0),t.ALo(1,"async"),t.TgZ(2,"h1",1),t._uU(3,"Terms"),t.qZA(),t.TgZ(4,"p",2),t._uU(5,' This is the list of Terms. For each Term, WordLift matched the entity which will show in the Structured Data "mentions" property To assign a new entity, click on the name (or on the dash) and start typing to select it from the list. Then click anywhere to accept the change.\n'),t.qZA(),t.YNc(6,I,4,4,"div",3),t.TgZ(7,"nz-table",4,5),t.NdJ("nzQueryParams",function(s){return o.onQueryParamsChange(s)}),t.TgZ(9,"thead")(10,"tr")(11,"th",6),t._uU(12," Term "),t.TgZ(13,"nz-filter-trigger",7),t.NdJ("nzVisibleChange",function(s){return o.visible=s}),t._UZ(14,"span",8),t.qZA()(),t.TgZ(15,"th",9),t._uU(16," Matched Entity "),t._UZ(17,"span",10),t.qZA(),t.TgZ(18,"th",11),t._uU(19," Occurrences "),t._UZ(20,"span",12),t.qZA()()(),t.YNc(21,U,2,1,"tbody",0),t.qZA(),t.TgZ(22,"nz-dropdown-menu",null,13)(24,"div",14)(25,"div",15)(26,"input",16),t.NdJ("ngModelChange",function(s){return o.termContains=s}),t.qZA(),t.TgZ(27,"button",17),t.NdJ("click",function(){return o.search()}),t._uU(28," Search "),t.qZA(),t.TgZ(29,"button",18),t.NdJ("click",function(){return o.reset()}),t._uU(30,"Reset"),t.qZA()()()(),t._UZ(31,"wlx-pagination",19)),2&n){const r=t.MAs(23);t.Q6J("ngIf",t.lcZ(1,18,o.cursor$)),t.xp6(6),t.Q6J("ngIf",o.page),t.xp6(1),t.Q6J("nzData",o.page&&o.page.items?o.page.items:t.DdM(20,D))("nzNoResult",void 0)("nzShowPagination",!1)("nzFrontPagination",!1)("nzTotal",o.Number.MAX_SAFE_INTEGER)("nzLoading",o.loading),t.xp6(4),t.Q6J("nzSortFn",!0),t.xp6(2),t.Q6J("nzVisible",o.visible)("nzActive",o.termContains.length>0)("nzDropdownMenu",r),t.xp6(2),t.Q6J("nzSortFn",!0),t.xp6(6),t.Q6J("ngIf",!o.loading),t.xp6(5),t.Q6J("ngModel",o.termContains),t.xp6(5),t.Q6J("page",o.page)("cursor",o.cursor)("perPage",o.perPage)}},dependencies:[c.sg,c.O5,f.ZU,l.N8,l.qD,l.Uo,l._C,l.Om,l.p0,l.$Z,l.Ql,O.Q,S.l,A.b,C.Zp,T.Ls,J.N,z.SY,m.Fj,m.JJ,m.On,x.RR,v.ix,F.w,N.dQ,c.Ov],styles:["wlx-pagination[_ngcontent-%COMP%], #filters[_ngcontent-%COMP%]{width:100%;flex-direction:row;display:flex;align-items:center;margin-top:18px;margin-bottom:16px}#count[_ngcontent-%COMP%]{font-weight:400;font-size:14px;line-height:19px;color:#00000073;margin:0}.table-header[_ngcontent-%COMP%]{font-weight:600;font-size:14px;line-height:22px;color:#000000e0}.tooltip[_ngcontent-%COMP%]{cursor:pointer;margin:4px 3px;color:#00000073}.autocomplete-input[_ngcontent-%COMP%]{width:320px;height:32px;display:block}.autocomplete-input-column[_ngcontent-%COMP%]{padding:16px}nz-button-group[_ngcontent-%COMP%]{margin-left:auto}#heading[_ngcontent-%COMP%]{font-weight:600;font-size:20px;line-height:32px}#description[_ngcontent-%COMP%]{text-align:justify;font-weight:400;font-size:16px;line-height:24px;color:#000000a6;width:600px}wlx-filters[_ngcontent-%COMP%]{margin-left:auto}.editable-cell[_ngcontent-%COMP%]{position:relative;cursor:pointer}.editable-row[_ngcontent-%COMP%]:hover   .editable-cell[_ngcontent-%COMP%]{border:1px solid #d9d9d9;border-radius:4px}.editable-cell[_ngcontent-%COMP%]:focus-within{border:none}.search-box[_ngcontent-%COMP%]{padding:8px}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:188px;margin-bottom:8px;display:block}.search-box[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:90px}.search-button[_ngcontent-%COMP%]{margin-right:8px}.ant-btn-sm[_ngcontent-%COMP%]{height:30px}"]}),i})()}];let $=(()=>{class i{}return i.\u0275fac=function(n){return new(n||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[h.Bz.forChild(R),h.Bz]}),i})();var j=e(545),G=e(2271),H=e(8231),K=e(4586),L=e(2383),V=e(5540);let Y=(()=>{class i{}return i.\u0275fac=function(n){return new(n||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[c.ez,$,f.ZJ,l.HQ,j.H0,G.m,H.LV,C.o7,K.D,L.ic,T.PV,V.o,z.cg,m.u5,x.b1,v.sL]}),i})()}}]);