"use strict";(self.webpackChunkwordlift_plugin_app=self.webpackChunkwordlift_plugin_app||[]).push([[360],{6360:(tt,u,o)=>{o.r(u),o.d(u,{RecipesModule:()=>c});var h=o(6895),x=o(8176),T=o(7579),S=o(4351),Z=o(9635),C=o(8505),y=o(5698),O=o(9300),R=o(6150),t=o(4650),P=o(240),f=o(433),z=o(8800),l=o(13),M=o(545),b=o(5087),A=o(1354),J=o(1723),m=o(8231),w=o(7423),I=o(5505),v=o(7570);function N(i,n){1&i&&t.GkF(0)}function Q(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"wlx-filters",19),t.NdJ("filterChange",function(a){t.CHM(e);const r=t.oxw(2);return t.KtG(r.filter=a)})("filterChange",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.cursor.next(""))}),t.qZA()}if(2&i){const e=t.oxw(2);t.Q6J("filter",e.filter)("stats",e.stats)}}function F(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"div",9)(1,"p",10),t._uU(2),t.qZA(),t.YNc(3,Q,1,2,"wlx-filters",11),t.TgZ(4,"nz-select",12),t.NdJ("ngModelChange",function(a){t.CHM(e);const r=t.oxw();return t.KtG(r.postStatus=a)})("ngModelChange",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.cursor.next(""))}),t._UZ(5,"nz-option",13)(6,"nz-option",14)(7,"nz-option",15),t.qZA(),t.TgZ(8,"nz-select",16),t.NdJ("ngModelChange",function(a){t.CHM(e);const r=t.oxw();return t.KtG(r.dateModifiedSort=a)})("ngModelChange",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.onChangeDateModified())}),t._UZ(9,"nz-option",17)(10,"nz-option",18),t.qZA()()}if(2&i){const e=t.oxw();t.xp6(2),t.AsE("",e.stats.total," ",e.stats.label,""),t.xp6(1),t.Q6J("ngIf",e.page),t.xp6(1),t.Q6J("ngModel",e.postStatus),t.xp6(4),t.Q6J("ngModel",e.dateModifiedSort)}}const U=function(){return{width:325}},E=function(){return{width:100}};function L(i,n){if(1&i&&(t.TgZ(0,"tr",21)(1,"td"),t._UZ(2,"nz-skeleton",22),t.qZA(),t.TgZ(3,"td"),t._UZ(4,"nz-skeleton",22),t.qZA()()),2&i){const e=t.oxw(2);t.xp6(2),t.Q6J("nzActive",!0)("nzLoading",e.loading)("nzParagraph",!1)("nzTitle",t.DdM(8,U)),t.xp6(2),t.Q6J("nzActive",!0)("nzLoading",e.loading)("nzParagraph",!1)("nzTitle",t.DdM(9,E))}}function H(i,n){if(1&i&&(t.TgZ(0,"tbody"),t.YNc(1,L,5,10,"tr",20),t.qZA()),2&i){t.oxw();const e=t.MAs(8);t.xp6(1),t.Q6J("ngForOf",e.data)}}function Y(i,n){1&i&&(t.TgZ(0,"span"),t._uU(1," \u2013 Draft"),t.qZA())}function D(i,n){if(1&i&&(t.TgZ(0,"a",31),t._uU(1,"Edit"),t.qZA()),2&i){const e=t.oxw().$implicit;t.s9C("href",e.post_link,t.LSH)}}function $(i,n){if(1&i&&(t.TgZ(0,"a",31),t._uU(1,"View"),t.qZA()),2&i){const e=t.oxw().$implicit;t.s9C("href",e.view_link,t.LSH)}}function G(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"tr",24)(1,"td")(2,"a",25),t._uU(3),t.qZA(),t.YNc(4,Y,2,0,"span",0),t.TgZ(5,"div",26)(6,"div",27),t.YNc(7,D,2,1,"a",28),t.YNc(8,$,2,1,"a",28),t.qZA()()(),t.TgZ(9,"td"),t._uU(10),t.qZA(),t.TgZ(11,"td",29)(12,"wlx-main-ingredient",30),t.NdJ("onMainIngredientChange",function(a){const p=t.CHM(e).$implicit,_=t.oxw(2);return t.KtG(_.ingredientChange(p,a))})("onStartEdit",function(){const r=t.CHM(e).$implicit,p=t.oxw(2);return t.KtG(p.startEdit(r.id))})("onStopEdit",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.stopEdit())}),t.qZA()()()}if(2&i){const e=n.$implicit,s=n.index,a=t.oxw(2);t.xp6(2),t.Q6J("href",e.parent_post_link,t.LSH),t.xp6(1),t.Oqu(e.parent_post_title),t.xp6(1),t.Q6J("ngIf",e.is_draft),t.xp6(3),t.Q6J("ngIf",e.post_link),t.xp6(1),t.Q6J("ngIf",e.view_link),t.xp6(2),t.hij(" ",e.post_title," "),t.xp6(2),t.Q6J("wlxCyId","AutoCompleteField"+s)("data",e)("editMode",a.editId===e.id)}}function V(i,n){if(1&i&&(t.TgZ(0,"tbody"),t.YNc(1,G,13,9,"tr",23),t.qZA()),2&i){t.oxw();const e=t.MAs(8);t.xp6(1),t.Q6J("ngForOf",e.data)}}const K=function(){return[]};class g{constructor(n,e){this.appSettings=n,this.apiService=e,this.loading=!1,this.editId=null,this.perPage={value:10},this.sort=["-date_modified_gmt"],this.postStatus="all",this.dateModifiedSort="newest_first",this.cursor=new T.x,this.cursor$=this.cursor.asObservable().pipe((0,O.h)(s=>null!=s),(0,S.b)(s=>this.apiService.list({post_types:["wprm_recipe"],cursor:s,has_match:this.filter,limit:this.perPage.value,sort:this.sort.join(","),post_status:this.postStatus})),(0,Z.z)((0,C.b)(s=>{this.page=s}))),this.Number=Number,this.stats=n.stats.find(s=>"Recipes"===s.label)}ngOnInit(){this.apiService.list({post_types:["wprm_recipe"],limit:this.perPage.value,post_status:this.postStatus,sort:this.sort.join(",")}).pipe((0,C.b)(()=>this.loading=!1)).subscribe(n=>{this.page=n})}ingredientChange(n,e){(n.match_id?this.apiService.create({post_id:n.id,body:e}):this.apiService.update({post_id:n.id,match_id:n.match_id,body:e})).pipe((0,y.q)(1)).subscribe()}startEdit(n){this.editId=n}stopEdit(){this.editId=null}onSort(n,e){let s="";if("descend"==e?s=`-${n}`:"ascend"==e&&(s=`+${n}`),0==this.sort.length)this.sort.push(s);else{let a=!1,r=[];this.sort.forEach((p,_)=>{p.indexOf(n)>=0&&(a=!0),p.indexOf(n)>=0&&null!=e?(this.sort[_]=s,r.push(this.sort[_])):p.indexOf(n)>=0&&null==e||r.push(p)}),this.sort=r,a||this.sort.push(s)}this.cursor.next("")}onChangeDateModified(){this.onSort("date_modified_gmt","newest_first"==this.dateModifiedSort?"descend":"ascend")}}g.\u0275fac=function(n){return new(n||g)(t.Y36(R.N),t.Y36(P.s))},g.\u0275cmp=t.Xpm({type:g,selectors:[["wlx-recipes"]],decls:21,vars:18,consts:[[4,"ngIf"],["nz-typography","","id","heading"],["nz-typography","","nzType","secondary","id","description"],["id","filters",4,"ngIf"],[3,"nzData","nzNoResult","nzShowPagination","nzFrontPagination","nzTotal"],["basicTable",""],["nzWidth","369.33px",1,"table-header",3,"nzShowSort","nzSortOrderChange"],["nz-icon","","nz-tooltip","","nzTooltipTitle","The main ingredient entity matching the recipe title.","nzType","question-circle","nzTheme","outline",1,"tooltip"],["wlxCy","","wlxCyId","RecipesPagination",3,"page","cursor","perPage"],["id","filters"],["id","count"],["wlxCy","","wlxCyId","RecipesFilters",3,"filter","stats","filterChange",4,"ngIf"],[1,"post_status",3,"ngModel","ngModelChange"],["nzValue","all","nzLabel","All"],["nzValue","published","nzLabel","Published"],["nzValue","draft","nzLabel","Drafts"],[1,"date_modified",3,"ngModel","ngModelChange"],["nzValue","newest_first","nzLabel","Newest First"],["nzValue","oldest_first_sorting","nzLabel","Oldest First sorting"],["wlxCy","","wlxCyId","RecipesFilters",3,"filter","stats","filterChange"],["class","table-row",4,"ngFor","ngForOf"],[1,"table-row"],[3,"nzActive","nzLoading","nzParagraph","nzTitle"],["class","table-row editable-row",4,"ngFor","ngForOf"],[1,"table-row","editable-row"],["target","_blank",3,"href"],[1,"links-main"],[1,"links"],["class","links-item","target","_blank",3,"href",4,"ngIf"],[1,"autocomplete-input-column"],["wlxCy","","datasetUri","https://knowledge.cafemedia.com/food/",1,"autocomplete-input","editable-cell",3,"wlxCyId","data","editMode","onMainIngredientChange","onStartEdit","onStopEdit"],["target","_blank",1,"links-item",3,"href"]],template:function(n,e){1&n&&(t.YNc(0,N,1,0,"ng-container",0),t.ALo(1,"async"),t.TgZ(2,"h1",1),t._uU(3,"Recipes"),t.qZA(),t.TgZ(4,"p",2),t._uU(5,' This is the list of the Posts with Recipes. For each Recipe, WordLift matched the main ingredient which will show in the Structured Data "about" property. To assign a new ingredient, click on the name (or on the dash) and start typing to select it from the list. Then click anywhere to accept the change.\n'),t.qZA(),t.YNc(6,F,11,5,"div",3),t.TgZ(7,"nz-table",4,5)(9,"thead")(10,"tr")(11,"th",6),t.NdJ("nzSortOrderChange",function(a){return e.onSort("post_title",a)}),t._uU(12," Post title "),t.qZA(),t.TgZ(13,"th",6),t.NdJ("nzSortOrderChange",function(a){return e.onSort("recipe_name",a)}),t._uU(14," Recipe Name "),t.qZA(),t.TgZ(15,"th",6),t.NdJ("nzSortOrderChange",function(a){return e.onSort("matched_ingredient",a)}),t._uU(16," Matched Ingredient "),t._UZ(17,"span",7),t.qZA()()(),t.YNc(18,H,2,1,"tbody",0),t.YNc(19,V,2,1,"tbody",0),t.qZA(),t._UZ(20,"wlx-pagination",8)),2&n&&(t.Q6J("ngIf",t.lcZ(1,15,e.cursor$)),t.xp6(6),t.Q6J("ngIf",e.page),t.xp6(1),t.Q6J("nzData",e.page&&e.page.items?e.page.items:t.DdM(17,K))("nzNoResult",void 0)("nzShowPagination",!1)("nzFrontPagination",!1)("nzTotal",e.Number.MAX_SAFE_INTEGER),t.xp6(4),t.Q6J("nzShowSort",!0),t.xp6(2),t.Q6J("nzShowSort",!0),t.xp6(2),t.Q6J("nzShowSort",!0),t.xp6(3),t.Q6J("ngIf",e.loading),t.xp6(1),t.Q6J("ngIf",!e.loading),t.xp6(1),t.Q6J("page",e.page)("cursor",e.cursor)("perPage",e.perPage))},dependencies:[h.sg,h.O5,f.JJ,f.On,z.ZU,l.N8,l.qD,l.Uo,l._C,l.Om,l.p0,l.$Z,M.ng,b.Q,A.l,J.b,m.Ip,m.Vq,w.Ls,I.N,v.SY,h.Ov],styles:["#heading[_ngcontent-%COMP%]{font-weight:600;font-size:20px;line-height:32px}.editable-cell[_ngcontent-%COMP%]{position:relative;cursor:pointer}.editable-row[_ngcontent-%COMP%]:hover   .editable-cell[_ngcontent-%COMP%]{border:1px solid #d9d9d9;border-radius:4px}.editable-cell[_ngcontent-%COMP%]:focus-within{border:none}wlx-pagination[_ngcontent-%COMP%], #filters[_ngcontent-%COMP%]{width:100%;flex-direction:row;display:flex;align-items:center;margin-top:18px;margin-bottom:16px}#count[_ngcontent-%COMP%]{font-weight:400;font-size:14px;line-height:19px;color:#00000073;margin:0}wlx-filters[_ngcontent-%COMP%]{margin-left:auto}#description[_ngcontent-%COMP%]{text-align:justify;font-weight:400;font-size:16px;line-height:24px;color:#000000a6;width:600px}.autocomplete-input[_ngcontent-%COMP%]{width:320px;height:32px;display:block}.autocomplete-input-column[_ngcontent-%COMP%]{padding:16px}.table-header[_ngcontent-%COMP%]{font-weight:600;font-size:14px;line-height:22px;color:#000000e0}.tooltip[_ngcontent-%COMP%]{cursor:pointer;margin:4px 3px;color:#00000073}.post_status[_ngcontent-%COMP%]{min-width:105px;margin-left:8px;margin-right:8px}.items_sort[_ngcontent-%COMP%]{min-width:164px;margin-left:8px}.links[_ngcontent-%COMP%]{display:none}.links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{width:21px;height:16px;color:#007aff;font-style:normal;font-weight:400;font-size:12px;line-height:16px}.links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:first-child{border-right:1px solid rgba(0,0,0,.15);margin-right:6px;padding-right:6px}td[_ngcontent-%COMP%]{height:80px}.links-main[_ngcontent-%COMP%]{height:16px}td[_ngcontent-%COMP%]:hover   .links[_ngcontent-%COMP%]{display:block}"]});const j=[{path:"",pathMatch:"full",redirectTo:"recipes"},{path:"recipes",data:{breadcrumb:"Recipes"},component:g}];class d{}d.\u0275fac=function(n){return new(n||d)},d.\u0275mod=t.oAB({type:d}),d.\u0275inj=t.cJS({imports:[x.Bz.forChild(j),x.Bz]});var k=o(2271),W=o(5635),X=o(4586),B=o(2383),q=o(5540);class c{}c.\u0275fac=function(n){return new(n||c)},c.\u0275mod=t.oAB({type:c}),c.\u0275inj=t.cJS({imports:[h.ez,d,f.u5,z.ZJ,l.HQ,M.H0,k.m,m.LV,W.o7,X.D,B.ic,w.PV,q.o,v.cg]})}}]);